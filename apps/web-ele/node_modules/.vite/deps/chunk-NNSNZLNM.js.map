{
  "version": 3,
  "sources": ["../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/select-v2/src/group-item.vue", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/select-v2/src/useOption.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/select-v2/src/useProps.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/select-v2/src/defaults.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/select-v2/src/token.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/select-v2/src/option-item.vue", "../../../../../node_modules/.pnpm/memoize-one@6.0.0/node_modules/memoize-one/dist/memoize-one.esm.js", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/virtual-list/src/hooks/use-cache.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/virtual-list/src/defaults.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/virtual-list/src/hooks/use-wheel.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/virtual-list/src/props.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/virtual-list/src/utils.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/virtual-list/src/components/scrollbar.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/virtual-list/src/builders/build-list.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/virtual-list/src/components/fixed-size-list.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/virtual-list/src/components/dynamic-size-list.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/select-v2/src/select-dropdown.tsx", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/select-v2/src/useAllowCreate.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/select-v2/src/useSelect.ts", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/select-v2/src/select.vue", "../../../../../node_modules/.pnpm/element-plus@2.9.9_vue@3.5.13_typescript@5.8.3_/packages/components/select-v2/index.ts"],
  "sourcesContent": ["<template>\n  <div\n    :class=\"ns.be('group', 'title')\"\n    :style=\"{ ...style, lineHeight: `${height}px` }\"\n  >\n    {{ item.label }}\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport type { CSSProperties, PropType } from 'vue'\n\nexport default defineComponent({\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n    style: {\n      type: Object as PropType<CSSProperties>,\n    },\n    height: Number,\n  },\n  setup() {\n    const ns = useNamespace('select')\n    return {\n      ns,\n    }\n  },\n})\n</script>\n", "import type { IOptionV2Props } from './token'\nimport type { OptionEmitFn } from './defaults'\n\nexport function useOption(\n  props: IOptionV2Props,\n  { emit }: { emit: OptionEmitFn }\n) {\n  return {\n    hoverItem: () => {\n      if (!props.disabled) {\n        emit('hover', props.index)\n      }\n    },\n    selectOptionClick: () => {\n      if (!props.disabled) {\n        emit('select', props.item, props.index)\n      }\n    },\n  }\n}\n", "import { computed } from 'vue'\nimport { get } from 'lodash-unified'\n\nimport type { ISelectV2Props } from './token'\nimport type { Option } from './select.types'\n\nexport interface Props {\n  label?: string\n  value?: string\n  disabled?: string\n  options?: string\n}\n\nexport const defaultProps: Required<Props> = {\n  label: 'label',\n  value: 'value',\n  disabled: 'disabled',\n  options: 'options',\n}\n\nexport function useProps(props: Pick<ISelectV2Props, 'props'>) {\n  const aliasProps = computed(() => ({ ...defaultProps, ...props.props }))\n\n  const getLabel = (option: Option) => get(option, aliasProps.value.label)\n  const getValue = (option: Option) => get(option, aliasProps.value.value)\n  const getDisabled = (option: Option) => get(option, aliasProps.value.disabled)\n  const getOptions = (option: Option) => get(option, aliasProps.value.options)\n\n  return {\n    aliasProps,\n    getLabel,\n    getValue,\n    getDisabled,\n    getOptions,\n  }\n}\n", "import { placements } from '@popperjs/core'\nimport {\n  useAriaProps,\n  useEmptyValuesProps,\n  useSizeProp,\n} from '@element-plus/hooks'\nimport {\n  buildProps,\n  definePropType,\n  iconPropType,\n  isBoolean,\n  isNumber,\n} from '@element-plus/utils'\nimport { CHANGE_EVENT, UPDATE_MODEL_EVENT } from '@element-plus/constants'\nimport { useTooltipContentProps } from '@element-plus/components/tooltip'\nimport { ArrowDown, CircleClose } from '@element-plus/icons-vue'\nimport { tagProps } from '../../tag'\nimport { defaultProps } from './useProps'\n\nimport type { Option, OptionType } from './select.types'\nimport type { Props } from './useProps'\nimport type { EmitFn } from '@element-plus/utils/vue/typescript'\nimport type { ExtractPropTypes } from 'vue'\nimport type {\n  Options,\n  Placement,\n  PopperEffect,\n} from '@element-plus/components/popper'\n\nexport const SelectProps = buildProps({\n  /**\n   * @description whether creating new items is allowed. To use this, `filterable` must be true\n   */\n  allowCreate: Boolean,\n  /**\n   * @description autocomplete of select input\n   */\n  autocomplete: {\n    type: definePropType<'none' | 'both' | 'list' | 'inline'>(String),\n    default: 'none',\n  },\n  /**\n   * @description for non-filterable Select, this prop decides if the option menu pops up when the input is focused\n   */\n  automaticDropdown: Boolean,\n  /**\n   * @description whether select can be cleared\n   */\n  clearable: Boolean,\n  /**\n   * @description custom clear icon\n   */\n  clearIcon: {\n    type: iconPropType,\n    default: CircleClose,\n  },\n  /**\n   * @description tooltip theme, built-in theme: `dark` / `light`\n   */\n  effect: {\n    type: definePropType<PopperEffect>(String),\n    default: 'light',\n  },\n  /**\n   * @description whether to collapse tags to a text when multiple selecting\n   */\n  collapseTags: Boolean,\n  /**\n   * @description whether show all selected tags when mouse hover text of collapse-tags. To use this, `collapse-tags` must be true\n   */\n  collapseTagsTooltip: Boolean,\n  /**\n   * @description The max tags number to be shown. To use this, `collapse-tags` must be true\n   */\n  maxCollapseTags: {\n    type: Number,\n    default: 1,\n  },\n  /**\n   * @description\n   */\n  defaultFirstOption: Boolean,\n  /**\n   * @description is disabled\n   */\n  disabled: Boolean,\n  /**\n   * @description\n   */\n  estimatedOptionHeight: {\n    type: Number,\n    default: undefined,\n  },\n  /**\n   * @description is filterable\n   */\n  filterable: Boolean,\n  /**\n   * @description\n   */\n  filterMethod: Function,\n  /**\n   * @description The height of the dropdown panel, 34px for each item\n   */\n  height: {\n    type: Number,\n    default: 274, // same as select dropdown menu\n  },\n  /**\n   * @description The height of the dropdown item\n   */\n  itemHeight: {\n    type: Number,\n    default: 34,\n  },\n  /**\n   * @description\n   */\n  id: String,\n  /**\n   * @description whether Select is loading data from server\n   */\n  loading: Boolean,\n  /**\n   * @description displayed text while loading data from server, default is 'Loading'\n   */\n  loadingText: String,\n  /**\n   * @description biding value\n   */\n  modelValue: {\n    type: definePropType<\n      any[] | string | number | boolean | Record<string, any> | any\n    >([Array, String, Number, Boolean, Object]),\n  },\n  /**\n   * @description is multiple\n   */\n  multiple: Boolean,\n  /**\n   * @description maximum number of options user can select when multiple is true. No limit when set to 0\n   */\n  multipleLimit: {\n    type: Number,\n    default: 0,\n  },\n  /**\n   * @description the name attribute of select input\n   */\n  name: String,\n  /**\n   * @description displayed text when there is no options, you can also use slot empty, the default is 'No Data'\n   */\n  noDataText: String,\n  /**\n   * @description displayed text when no data matches the filtering query, you can also use slot `empty`, default is 'No matching data'\n   */\n  noMatchText: String,\n  /**\n   * @description function that gets called when the input value changes. Its parameter is the current input value. To use this, `filterable` must be true\n   */\n  remoteMethod: Function,\n  /**\n   * @description whether reserve the keyword after select filtered option.\n   */\n  reserveKeyword: {\n    type: Boolean,\n    default: true,\n  },\n  /**\n   * @description data of the options, the key of `value` and `label` can be customize by `props`\n   */\n  options: {\n    type: definePropType<OptionType[]>(Array),\n    required: true,\n  },\n  /**\n   * @description placeholder, the default is 'Please select'\n   */\n  placeholder: {\n    type: String,\n  },\n  /**\n   * @description whether select dropdown is teleported, if `true` it will be teleported to where `append-to` sets\n   */\n  teleported: useTooltipContentProps.teleported,\n  /**\n   * @description when select dropdown is inactive and `persistent` is `false`, select dropdown will be destroyed\n   */\n  persistent: {\n    type: Boolean,\n    default: true,\n  },\n  /**\n   * @description custom class name for Select's dropdown\n   */\n  popperClass: {\n    type: String,\n    default: '',\n  },\n  /**\n   * @description [popper.js](https://popper.js.org/docs/v2/) parameters\n   */\n  popperOptions: {\n    type: definePropType<Partial<Options>>(Object),\n    default: () => ({} as Partial<Options>),\n  },\n  /**\n   * @description whether search data from server\n   */\n  remote: Boolean,\n  /**\n   * @description size of component\n   */\n  size: useSizeProp,\n  /**\n   * @description configuration options, see the following table\n   */\n  props: {\n    type: definePropType<Props>(Object),\n    default: () => defaultProps,\n  },\n  /**\n   * @description unique identity key name for value, required when value is an object\n   */\n  valueKey: {\n    type: String,\n    default: 'value',\n  },\n  /**\n   * @description Controls whether the scrollbar is always displayed\n   */\n  scrollbarAlwaysOn: Boolean,\n  /**\n   * @description whether to trigger form validation\n   */\n  validateEvent: {\n    type: Boolean,\n    default: true,\n  },\n  /**\n   * @description offset of the dropdown\n   */\n  offset: {\n    type: Number,\n    default: 12,\n  },\n  /**\n   * @description Determines whether the arrow is displayed\n   */\n  showArrow: {\n    type: Boolean,\n    default: true,\n  },\n  /**\n   * @description position of dropdown\n   */\n  placement: {\n    type: definePropType<Placement>(String),\n    values: placements,\n    default: 'bottom-start',\n  },\n  /**\n   * @description list of possible positions for dropdown\n   */\n  fallbackPlacements: {\n    type: definePropType<Placement[]>(Array),\n    default: ['bottom-start', 'top-start', 'right', 'left'],\n  },\n  /**\n   * @description tag type\n   */\n  tagType: { ...tagProps.type, default: 'info' },\n  /**\n   * @description tag effect\n   */\n  tagEffect: { ...tagProps.effect, default: 'light' },\n  /**\n   * @description tabindex for input\n   */\n  tabindex: {\n    type: [String, Number],\n    default: 0,\n  },\n  /**\n   * @description which element the select dropdown appends to\n   */\n  appendTo: useTooltipContentProps.appendTo,\n  /**\n   * @description if it is `true`, the width of the dropdown panel is the same as the input box.\n   * if it is `false`, the width is automatically calculated based on the value of `label`,\n   * or it can be set to a number to make it a fixed width\n   */\n  fitInputWidth: {\n    type: [Boolean, Number],\n    default: true,\n    validator(val) {\n      return isBoolean(val) || isNumber(val)\n    },\n  },\n  suffixIcon: {\n    type: iconPropType,\n    default: ArrowDown,\n  },\n  ...useEmptyValuesProps,\n  ...useAriaProps(['ariaLabel']),\n} as const)\n\nexport const OptionProps = buildProps({\n  data: Array,\n  disabled: Boolean,\n  hovering: Boolean,\n  item: {\n    type: definePropType<Option>(Object),\n    required: true,\n  },\n  index: Number,\n  style: Object,\n  selected: Boolean,\n  created: Boolean,\n} as const)\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\nexport const selectEmits = {\n  [UPDATE_MODEL_EVENT]: (val: ISelectV2Props['modelValue']) => true,\n  [CHANGE_EVENT]: (val: ISelectV2Props['modelValue']) => true,\n  'remove-tag': (val: unknown) => true,\n  'visible-change': (visible: boolean) => true,\n  focus: (evt: FocusEvent) => evt instanceof FocusEvent,\n  blur: (evt: FocusEvent) => evt instanceof FocusEvent,\n  clear: () => true,\n}\nexport const optionEmits = {\n  hover: (index?: number) => isNumber(index),\n  select: (val: Option, index?: number) => true,\n}\n/* eslint-enable @typescript-eslint/no-unused-vars */\n\nexport type ISelectV2Props = ExtractPropTypes<typeof SelectProps>\nexport type IOptionV2Props = ExtractPropTypes<typeof OptionProps>\nexport type SelectEmitFn = EmitFn<typeof selectEmits>\nexport type OptionEmitFn = EmitFn<typeof optionEmits>\n", "import type { IOptionV2Props, ISelectV2Props } from './defaults'\nimport type { InjectionKey, Ref } from 'vue'\nimport type { Option } from './select.types'\nimport type { TooltipInstance } from '@element-plus/components/tooltip'\n\nexport interface SelectV2Context {\n  props: ISelectV2Props\n  expanded: Ref<boolean>\n  tooltipRef: Ref<TooltipInstance | undefined>\n  onSelect: (option: Option) => void\n  onHover: (idx?: number) => void\n  onKeyboardNavigate: (direction: 'forward' | 'backward') => void\n  onKeyboardSelect: () => void\n}\n\nexport const selectV2InjectionKey: InjectionKey<SelectV2Context> = Symbol(\n  'ElSelectV2Injection'\n)\nexport type { ISelectV2Props, IOptionV2Props }\n", "<template>\n  <li\n    :aria-selected=\"selected\"\n    :style=\"style\"\n    :class=\"[\n      ns.be('dropdown', 'item'),\n      ns.is('selected', selected),\n      ns.is('disabled', disabled),\n      ns.is('created', created),\n      ns.is('hovering', hovering),\n    ]\"\n    @mousemove=\"hoverItem\"\n    @click.stop=\"selectOptionClick\"\n  >\n    <slot :item=\"item\" :index=\"index\" :disabled=\"disabled\">\n      <span>{{ getLabel(item) }}</span>\n    </slot>\n  </li>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, inject } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport { useOption } from './useOption'\nimport { useProps } from './useProps'\nimport { OptionProps, optionEmits } from './defaults'\nimport { selectV2InjectionKey } from './token'\n\nexport default defineComponent({\n  props: OptionProps,\n  emits: optionEmits,\n  setup(props, { emit }) {\n    const select = inject(selectV2InjectionKey)!\n    const ns = useNamespace('select')\n    const { hoverItem, selectOptionClick } = useOption(props, { emit })\n    const { getLabel } = useProps(select.props)\n\n    return {\n      ns,\n      hoverItem,\n      selectOptionClick,\n      getLabel,\n    }\n  },\n})\n</script>\n", "var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var cache = null;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (cache && cache.lastThis === this && isEqual(newArgs, cache.lastArgs)) {\n            return cache.lastResult;\n        }\n        var lastResult = resultFn.apply(this, newArgs);\n        cache = {\n            lastResult: lastResult,\n            lastArgs: newArgs,\n            lastThis: this,\n        };\n        return lastResult;\n    }\n    memoized.clear = function clear() {\n        cache = null;\n    };\n    return memoized;\n}\n\nexport { memoizeOne as default };\n", "import { computed, getCurrentInstance } from 'vue'\nimport { memoize } from 'lodash-unified'\nimport memoOne from 'memoize-one'\n\nimport type { VirtualizedProps } from '../props'\n\nexport const useCache = <T>() => {\n  const vm = getCurrentInstance()!\n\n  const props = vm.proxy!.$props as VirtualizedProps\n\n  return computed(() => {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const _getItemStyleCache = (_: any, __: any, ___: any) =>\n      ({} as Record<string, T>)\n    return props.perfMode\n      ? memoize(_getItemStyleCache)\n      : memoOne(_getItemStyleCache)\n  })\n}\n", "export const DEFAULT_DYNAMIC_LIST_ITEM_SIZE = 50\n\nexport const ITEM_RENDER_EVT = 'itemRendered'\nexport const SCROLL_EVT = 'scroll'\n\nexport const FORWARD = 'forward'\nexport const BACKWARD = 'backward'\n\nexport const AUTO_ALIGNMENT = 'auto'\nexport const SMART_ALIGNMENT = 'smart'\nexport const START_ALIGNMENT = 'start'\nexport const CENTERED_ALIGNMENT = 'center'\nexport const END_ALIGNMENT = 'end'\n\nexport const HORIZONTAL = 'horizontal'\nexport const VERTICAL = 'vertical'\n\nexport const LTR = 'ltr'\nexport const RTL = 'rtl'\n\nexport const RTL_OFFSET_NAG = 'negative'\nexport const RTL_OFFSET_POS_ASC = 'positive-ascending'\nexport const RTL_OFFSET_POS_DESC = 'positive-descending'\n\nexport const ScrollbarSizeKey = {\n  [HORIZONTAL]: 'height',\n  [VERTICAL]: 'width',\n}\n\nexport const ScrollbarDirKey = {\n  [HORIZONTAL]: 'left',\n  [VERTICAL]: 'top',\n}\n\nexport const SCROLLBAR_MIN_SIZE = 20\n", "import { cAF, isFirefox, rAF } from '@element-plus/utils'\nimport { HORIZONTAL, VERTICAL } from '../defaults'\n\nimport type { ComputedRef } from 'vue'\nimport type { LayoutDirection } from '../types'\n\nconst LayoutKeys = {\n  [HORIZONTAL]: 'deltaX',\n  [VERTICAL]: 'deltaY',\n} as const\n\ninterface ListWheelState {\n  atStartEdge: ComputedRef<boolean> // exclusive to reachEnd\n  atEndEdge: ComputedRef<boolean>\n  layout: ComputedRef<LayoutDirection>\n}\n\ntype ListWheelHandler = (offset: number) => void\n\nconst useWheel = (\n  { atEndEdge, atStartEdge, layout }: ListWheelState,\n  onWheelDelta: ListWheelHandler\n) => {\n  let frameHandle: number\n  let offset = 0\n\n  const hasReachedEdge = (offset: number) => {\n    const edgeReached =\n      (offset < 0 && atStartEdge.value) || (offset > 0 && atEndEdge.value)\n\n    return edgeReached\n  }\n\n  const onWheel = (e: WheelEvent) => {\n    cAF(frameHandle)\n\n    const newOffset = e[LayoutKeys[layout.value]]\n\n    if (hasReachedEdge(offset) && hasReachedEdge(offset + newOffset)) return\n\n    offset += newOffset\n\n    if (!isFirefox()) {\n      e.preventDefault()\n    }\n\n    frameHandle = rAF(() => {\n      onWheelDelta(offset)\n      offset = 0\n    })\n  }\n\n  return {\n    hasReachedEdge,\n    onWheel,\n  }\n}\n\nexport default useWheel\n", "import {\n  buildProp,\n  buildProps,\n  definePropType,\n  mutable,\n} from '@element-plus/utils'\nimport { VERTICAL } from './defaults'\n\nimport type { ExtractPropTypes, StyleValue } from 'vue'\nimport type { GridItemKeyGetter, ItemSize } from './types'\n\nconst itemSize = buildProp({\n  type: definePropType<number | ItemSize>([Number, Function]),\n  required: true,\n} as const)\n\nconst estimatedItemSize = buildProp({\n  type: Number,\n} as const)\n\nconst cache = buildProp({\n  type: Number,\n  default: 2,\n} as const)\n\nconst direction = buildProp({\n  type: String,\n  values: ['ltr', 'rtl'],\n  default: 'ltr',\n} as const)\n\nconst initScrollOffset = buildProp({\n  type: Number,\n  default: 0,\n} as const)\n\nconst total = buildProp({\n  type: Number,\n  required: true,\n} as const)\n\nconst layout = buildProp({\n  type: String,\n  values: ['horizontal', 'vertical'],\n  default: VERTICAL,\n} as const)\n\nexport const virtualizedProps = buildProps({\n  className: {\n    type: String,\n    default: '',\n  },\n\n  containerElement: {\n    type: definePropType<string | Element>([String, Object]),\n    default: 'div',\n  },\n\n  data: {\n    type: definePropType<any[]>(Array),\n    default: () => mutable([] as const),\n  },\n\n  /**\n   * @description controls the horizontal direction.\n   */\n  direction,\n\n  height: {\n    type: [String, Number],\n    required: true,\n  },\n\n  innerElement: {\n    type: [String, Object],\n    default: 'div',\n  },\n\n  style: {\n    type: definePropType<StyleValue>([Object, String, Array]),\n  },\n\n  useIsScrolling: {\n    type: Boolean,\n    default: false,\n  },\n\n  width: {\n    type: [Number, String],\n    required: false,\n  },\n\n  perfMode: {\n    type: Boolean,\n    default: true,\n  },\n  scrollbarAlwaysOn: {\n    type: Boolean,\n    default: false,\n  },\n} as const)\n\nexport const virtualizedListProps = buildProps({\n  /**\n   * @description describes how many items should be pre rendered to the head\n   * and the tail of the window\n   */\n  cache,\n\n  estimatedItemSize,\n\n  /**\n   * @description controls the list's orientation\n   */\n  layout,\n\n  initScrollOffset,\n\n  /**\n   * @description describes the total number of the list.\n   */\n  total,\n\n  itemSize,\n  ...virtualizedProps,\n} as const)\n\nconst scrollbarSize = {\n  type: Number,\n  default: 6,\n} as const\n\nconst startGap = { type: Number, default: 0 } as const\nconst endGap = { type: Number, default: 2 } as const\n\nexport const virtualizedGridProps = buildProps({\n  columnCache: cache,\n  columnWidth: itemSize,\n  estimatedColumnWidth: estimatedItemSize,\n  estimatedRowHeight: estimatedItemSize,\n  initScrollLeft: initScrollOffset,\n  initScrollTop: initScrollOffset,\n  itemKey: {\n    type: definePropType<GridItemKeyGetter>(Function),\n    default: ({\n      columnIndex,\n      rowIndex,\n    }: {\n      columnIndex: number\n      rowIndex: number\n    }) => `${rowIndex}:${columnIndex}`,\n  },\n  rowCache: cache,\n  rowHeight: itemSize,\n  totalColumn: total,\n  totalRow: total,\n  hScrollbarSize: scrollbarSize,\n  vScrollbarSize: scrollbarSize,\n  scrollbarStartGap: startGap,\n  scrollbarEndGap: endGap,\n  role: String,\n  ...virtualizedProps,\n} as const)\n\nexport const virtualizedScrollbarProps = buildProps({\n  alwaysOn: Boolean,\n  class: String,\n  layout,\n  total,\n  ratio: {\n    type: Number,\n    required: true,\n  },\n  clientSize: {\n    type: Number,\n    required: true,\n  },\n  scrollFrom: {\n    type: Number,\n    required: true,\n  },\n  scrollbarSize,\n  startGap,\n  endGap,\n\n  visible: Boolean,\n} as const)\n\nexport type VirtualizedProps = ExtractPropTypes<typeof virtualizedProps>\nexport type VirtualizedListProps = ExtractPropTypes<typeof virtualizedListProps>\nexport type VirtualizedGridProps = ExtractPropTypes<typeof virtualizedGridProps>\n\nexport type VirtualizedScrollbarProps = ExtractPropTypes<\n  typeof virtualizedScrollbarProps\n>\n", "import {\n  BACKWARD,\n  FORWARD,\n  HORIZONTAL,\n  LTR,\n  RTL,\n  RTL_OFFSET_NAG,\n  RTL_OFFSET_POS_ASC,\n  RTL_OFFSET_POS_DESC,\n} from './defaults'\n\nimport type { CSSProperties } from 'vue'\nimport type { Direction, RTLOffsetType } from './types'\n\nexport const getScrollDir = (prev: number, cur: number) =>\n  prev < cur ? FORWARD : BACKWARD\n\nexport const isHorizontal = (dir: string) =>\n  dir === LTR || dir === RTL || dir === HORIZONTAL\n\nexport const isRTL = (dir: Direction) => dir === RTL\n\nlet cachedRTLResult: RTLOffsetType | null = null\n\nexport function getRTLOffsetType(recalculate = false): RTLOffsetType {\n  if (cachedRTLResult === null || recalculate) {\n    const outerDiv = document.createElement('div')\n    const outerStyle = outerDiv.style\n    outerStyle.width = '50px'\n    outerStyle.height = '50px'\n    outerStyle.overflow = 'scroll'\n    outerStyle.direction = 'rtl'\n\n    const innerDiv = document.createElement('div')\n    const innerStyle = innerDiv.style\n    innerStyle.width = '100px'\n    innerStyle.height = '100px'\n\n    outerDiv.appendChild(innerDiv)\n\n    document.body.appendChild(outerDiv)\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = RTL_OFFSET_POS_DESC\n    } else {\n      outerDiv.scrollLeft = 1\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = RTL_OFFSET_NAG\n      } else {\n        cachedRTLResult = RTL_OFFSET_POS_ASC\n      }\n    }\n\n    document.body.removeChild(outerDiv)\n\n    return cachedRTLResult\n  }\n\n  return cachedRTLResult\n}\n\ntype RenderThumbStyleParams = {\n  bar: {\n    size: 'height' | 'width'\n    axis: 'X' | 'Y'\n  }\n  size: string\n  move: number\n}\n\nexport function renderThumbStyle(\n  { move, size, bar }: RenderThumbStyleParams,\n  layout: string\n) {\n  const style: CSSProperties = {}\n  const translate = `translate${bar.axis}(${move}px)`\n\n  style[bar.size] = size\n  style.transform = translate\n\n  if (layout === 'horizontal') {\n    style.height = '100%'\n  } else {\n    style.width = '100%'\n  }\n\n  return style\n}\n", "import {\n  computed,\n  defineComponent,\n  h,\n  onBeforeUnmount,\n  reactive,\n  ref,\n  unref,\n  watch,\n  withModifiers,\n} from 'vue'\nimport { BAR_MAP } from '@element-plus/components/scrollbar'\nimport { cAF, rAF } from '@element-plus/utils'\n\nimport { useNamespace } from '@element-plus/hooks'\nimport { HORIZONTAL, SCROLLBAR_MIN_SIZE, ScrollbarDirKey } from '../defaults'\nimport { virtualizedScrollbarProps } from '../props'\nimport { renderThumbStyle } from '../utils'\n\nimport type { CSSProperties } from 'vue'\n\ninterface ScrollState {\n  isDragging: boolean\n  traveled: number\n  [key: string]: unknown\n}\n\nconst ScrollBar = defineComponent({\n  name: 'ElVirtualScrollBar',\n  props: virtualizedScrollbarProps,\n  emits: ['scroll', 'start-move', 'stop-move'],\n  setup(props, { emit }) {\n    const GAP = computed(() => props.startGap + props.endGap) // top 2 + bottom 2 | left 2 + right 2\n\n    const nsVirtualScrollbar = useNamespace('virtual-scrollbar')\n    const nsScrollbar = useNamespace('scrollbar')\n    // DOM refs\n    const trackRef = ref<HTMLElement>()\n    const thumbRef = ref<HTMLElement>()\n\n    // local variables\n    let frameHandle: null | number = null\n    let onselectstartStore: null | typeof document.onselectstart = null\n\n    // data\n    const state = reactive<ScrollState>({\n      isDragging: false,\n      traveled: 0,\n    })\n\n    const bar = computed(() => BAR_MAP[props.layout])\n\n    const trackSize = computed(() => props.clientSize! - unref(GAP))\n\n    const trackStyle = computed<CSSProperties>(() => ({\n      position: 'absolute',\n      width: `${\n        HORIZONTAL === props.layout ? trackSize.value : props.scrollbarSize\n      }px`,\n      height: `${\n        HORIZONTAL === props.layout ? props.scrollbarSize : trackSize.value\n      }px`,\n      [ScrollbarDirKey[props.layout]]: '2px',\n      right: '2px',\n      bottom: '2px',\n      borderRadius: '4px',\n    }))\n\n    const thumbSize = computed(() => {\n      const ratio = props.ratio!\n      const clientSize = props.clientSize!\n      if (ratio >= 100) {\n        return Number.POSITIVE_INFINITY\n      }\n\n      if (ratio >= 50) {\n        return (ratio * clientSize) / 100\n      }\n\n      const SCROLLBAR_MAX_SIZE = clientSize / 3\n      return Math.floor(\n        Math.min(\n          Math.max(ratio * clientSize, SCROLLBAR_MIN_SIZE),\n          SCROLLBAR_MAX_SIZE\n        )\n      )\n    })\n\n    const thumbStyle = computed<CSSProperties>(() => {\n      if (!Number.isFinite(thumbSize.value)) {\n        return {\n          display: 'none',\n        }\n      }\n\n      const thumb = `${thumbSize.value}px`\n\n      const style = renderThumbStyle(\n        {\n          bar: bar.value,\n          size: thumb,\n          move: state.traveled,\n        },\n        props.layout\n      )\n\n      return style\n    })\n\n    const totalSteps = computed(() =>\n      Math.floor(props.clientSize! - thumbSize.value - unref(GAP))\n    )\n\n    const attachEvents = () => {\n      window.addEventListener('mousemove', onMouseMove)\n      window.addEventListener('mouseup', onMouseUp)\n\n      const thumbEl = unref(thumbRef)\n\n      if (!thumbEl) return\n\n      onselectstartStore = document.onselectstart\n      document.onselectstart = () => false\n\n      thumbEl.addEventListener('touchmove', onMouseMove, { passive: true })\n      thumbEl.addEventListener('touchend', onMouseUp)\n    }\n\n    const detachEvents = () => {\n      window.removeEventListener('mousemove', onMouseMove)\n      window.removeEventListener('mouseup', onMouseUp)\n\n      document.onselectstart = onselectstartStore\n      onselectstartStore = null\n\n      const thumbEl = unref(thumbRef)\n      if (!thumbEl) return\n\n      thumbEl.removeEventListener('touchmove', onMouseMove)\n      thumbEl.removeEventListener('touchend', onMouseUp)\n    }\n\n    const onThumbMouseDown = (e: Event | KeyboardEvent | MouseEvent) => {\n      e.stopImmediatePropagation()\n      if (\n        (e as KeyboardEvent).ctrlKey ||\n        [1, 2].includes((e as MouseEvent).button)\n      ) {\n        return\n      }\n\n      state.isDragging = true\n      state[bar.value.axis] =\n        (e.currentTarget as HTMLElement)[bar.value.offset] -\n        ((e as MouseEvent)[bar.value.client] -\n          (e.currentTarget as HTMLElement).getBoundingClientRect()[\n            bar.value.direction\n          ])\n\n      emit('start-move')\n      attachEvents()\n    }\n\n    const onMouseUp = () => {\n      state.isDragging = false\n      state[bar.value.axis] = 0\n      emit('stop-move')\n      detachEvents()\n    }\n\n    const onMouseMove = (e: MouseEvent | TouchEvent) => {\n      const { isDragging } = state\n      if (!isDragging) return\n      if (!thumbRef.value || !trackRef.value) return\n\n      const prevPage = state[bar.value.axis]\n      if (!prevPage) return\n\n      cAF(frameHandle!)\n      // using the current track's offset top/left - the current pointer's clientY/clientX\n      // to get the relative position of the pointer to the track.\n      const offset =\n        (trackRef.value.getBoundingClientRect()[bar.value.direction] -\n          (e as MouseEvent)[bar.value.client]) *\n        -1\n\n      // find where the thumb was clicked on.\n      const thumbClickPosition =\n        thumbRef.value[bar.value.offset] - (prevPage as number)\n      /**\n       *  +--------------+                                   +--------------+\n       *  |              -  <--------- thumb.offsetTop       |              |\n       *  |             |+|             <--+                 |              |\n       *  |              -                 |                 |              |\n       *  |   Content    |                 |                 |              |\n       *  |              |                 |                 |              |\n       *  |              |                 |                 |              |\n       *  |              |                 |                 |              -\n       *  |              |                 +-->              |             |+|\n       *  |              |                                   |              -\n       *  +--------------+                                   +--------------+\n       */\n\n      // using the current position - prev position to\n\n      const distance = offset - thumbClickPosition\n      // get how many steps in total.\n      // gap of 2 on top, 2 on bottom, in total 4.\n      // using totalSteps ÷ totalSize getting each step's size * distance to get the new\n      // scroll offset to scrollTo\n      frameHandle = rAF(() => {\n        state.traveled = Math.max(\n          props.startGap,\n          Math.min(\n            distance,\n            totalSteps.value // 2 is the top value\n          )\n        )\n        emit('scroll', distance, totalSteps.value)\n      })\n    }\n\n    const clickTrackHandler = (e: MouseEvent) => {\n      const offset = Math.abs(\n        (e.target as HTMLElement).getBoundingClientRect()[bar.value.direction] -\n          e[bar.value.client]\n      )\n      const thumbHalf = thumbRef.value![bar.value.offset] / 2\n      const distance = offset - thumbHalf\n\n      state.traveled = Math.max(0, Math.min(distance, totalSteps.value))\n      emit('scroll', distance, totalSteps.value)\n    }\n\n    watch(\n      () => props.scrollFrom,\n      (v) => {\n        if (state.isDragging) return\n        /**\n         *  this is simply mapping the current scrollbar offset\n         *\n         *  formula 1:\n         *    v = scrollOffset / (estimatedTotalSize - clientSize)\n         *    traveled = v * (clientSize - thumbSize - GAP) --> v * totalSteps\n         *\n         *  formula 2:\n         *    traveled = (v * clientSize) / (clientSize / totalSteps) --> (v * clientSize) * (totalSteps / clientSize) --> v * totalSteps\n         */\n        state.traveled = Math.ceil(v! * totalSteps.value)\n      }\n    )\n\n    onBeforeUnmount(() => {\n      detachEvents()\n    })\n\n    return () => {\n      return h(\n        'div',\n        {\n          role: 'presentation',\n          ref: trackRef,\n          class: [\n            nsVirtualScrollbar.b(),\n            props.class,\n            (props.alwaysOn || state.isDragging) && 'always-on',\n          ],\n          style: trackStyle.value,\n          onMousedown: withModifiers(clickTrackHandler, ['stop', 'prevent']),\n          onTouchstartPrevent: onThumbMouseDown,\n        },\n        h(\n          'div',\n          {\n            ref: thumbRef,\n            class: nsScrollbar.e('thumb'),\n            style: thumbStyle.value,\n            onMousedown: onThumbMouseDown,\n          },\n          []\n        )\n      )\n    }\n  },\n})\n\nexport default ScrollBar\n", "import {\n  Fragment,\n  computed,\n  defineComponent,\n  getCurrentInstance,\n  h,\n  nextTick,\n  onActivated,\n  onMounted,\n  onUpdated,\n  ref,\n  resolveDynamicComponent,\n  unref,\n} from 'vue'\nimport { useEventListener } from '@vueuse/core'\nimport { hasOwn, isClient, isNumber, isString } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport { useCache } from '../hooks/use-cache'\nimport useWheel from '../hooks/use-wheel'\nimport Scrollbar from '../components/scrollbar'\nimport { getRTLOffsetType, getScrollDir, isHorizontal } from '../utils'\nimport { virtualizedListProps } from '../props'\nimport {\n  AUTO_ALIGNMENT,\n  BACKWARD,\n  FORWARD,\n  HORIZONTAL,\n  ITEM_RENDER_EVT,\n  RTL,\n  RTL_OFFSET_NAG,\n  RTL_OFFSET_POS_ASC,\n  RTL_OFFSET_POS_DESC,\n  SCROLL_EVT,\n} from '../defaults'\n\nimport type { CSSProperties, Slot, VNode, VNodeChild } from 'vue'\nimport type { Alignment, ListConstructorProps } from '../types'\nimport type { VirtualizedListProps } from '../props'\n\nconst createList = ({\n  name,\n  getOffset,\n  getItemSize,\n  getItemOffset,\n  getEstimatedTotalSize,\n  getStartIndexForOffset,\n  getStopIndexForStartIndex,\n  initCache,\n  clearCache,\n  validateProps,\n}: ListConstructorProps<VirtualizedListProps>) => {\n  return defineComponent({\n    name: name ?? 'ElVirtualList',\n    props: virtualizedListProps,\n    emits: [ITEM_RENDER_EVT, SCROLL_EVT],\n    setup(props, { emit, expose }) {\n      validateProps(props)\n      const instance = getCurrentInstance()!\n\n      const ns = useNamespace('vl')\n\n      const dynamicSizeCache = ref(initCache(props, instance))\n\n      const getItemStyleCache = useCache<CSSProperties>()\n      // refs\n      // here windowRef and innerRef can be type of HTMLElement\n      // or user defined component type, depends on the type passed\n      // by user\n      const windowRef = ref<HTMLElement>()\n      const innerRef = ref<HTMLElement>()\n      const scrollbarRef = ref()\n      const states = ref({\n        isScrolling: false,\n        scrollDir: 'forward',\n        scrollOffset: isNumber(props.initScrollOffset)\n          ? props.initScrollOffset\n          : 0,\n        updateRequested: false,\n        isScrollbarDragging: false,\n        scrollbarAlwaysOn: props.scrollbarAlwaysOn,\n      })\n\n      // computed\n      const itemsToRender = computed(() => {\n        const { total, cache } = props\n        const { isScrolling, scrollDir, scrollOffset } = unref(states)\n\n        if (total === 0) {\n          return [0, 0, 0, 0]\n        }\n\n        const startIndex = getStartIndexForOffset(\n          props,\n          scrollOffset,\n          unref(dynamicSizeCache)\n        )\n        const stopIndex = getStopIndexForStartIndex(\n          props,\n          startIndex,\n          scrollOffset,\n          unref(dynamicSizeCache)\n        )\n\n        const cacheBackward =\n          !isScrolling || scrollDir === BACKWARD ? Math.max(1, cache) : 1\n        const cacheForward =\n          !isScrolling || scrollDir === FORWARD ? Math.max(1, cache) : 1\n\n        return [\n          Math.max(0, startIndex - cacheBackward),\n          Math.max(0, Math.min(total! - 1, stopIndex + cacheForward)),\n          startIndex,\n          stopIndex,\n        ]\n      })\n\n      const estimatedTotalSize = computed(() =>\n        getEstimatedTotalSize(props, unref(dynamicSizeCache))\n      )\n\n      const _isHorizontal = computed(() => isHorizontal(props.layout))\n\n      const windowStyle = computed(() => [\n        {\n          position: 'relative',\n          [`overflow-${_isHorizontal.value ? 'x' : 'y'}`]: 'scroll',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n        },\n        {\n          direction: props.direction,\n          height: isNumber(props.height) ? `${props.height}px` : props.height,\n          width: isNumber(props.width) ? `${props.width}px` : props.width,\n        },\n        props.style,\n      ])\n\n      const innerStyle = computed(() => {\n        const size = unref(estimatedTotalSize)\n        const horizontal = unref(_isHorizontal)\n        return {\n          height: horizontal ? '100%' : `${size}px`,\n          pointerEvents: unref(states).isScrolling ? 'none' : undefined,\n          width: horizontal ? `${size}px` : '100%',\n        }\n      })\n\n      const clientSize = computed(() =>\n        _isHorizontal.value ? props.width : props.height\n      )\n\n      // methods\n      const { onWheel } = useWheel(\n        {\n          atStartEdge: computed(() => states.value.scrollOffset <= 0),\n          atEndEdge: computed(\n            () => states.value.scrollOffset >= estimatedTotalSize.value\n          ),\n          layout: computed(() => props.layout),\n        },\n        (offset) => {\n          ;(\n            scrollbarRef.value as {\n              onMouseUp: () => void\n            }\n          ).onMouseUp?.()\n          scrollTo(\n            Math.min(\n              states.value.scrollOffset + offset,\n              estimatedTotalSize.value - (clientSize.value as number)\n            )\n          )\n        }\n      )\n\n      useEventListener(windowRef, 'wheel', onWheel, {\n        passive: false,\n      })\n\n      const emitEvents = () => {\n        const { total } = props\n\n        if (total! > 0) {\n          const [cacheStart, cacheEnd, visibleStart, visibleEnd] =\n            unref(itemsToRender)\n          emit(ITEM_RENDER_EVT, cacheStart, cacheEnd, visibleStart, visibleEnd)\n        }\n\n        const { scrollDir, scrollOffset, updateRequested } = unref(states)\n        emit(SCROLL_EVT, scrollDir, scrollOffset, updateRequested)\n      }\n\n      const scrollVertically = (e: Event) => {\n        const { clientHeight, scrollHeight, scrollTop } =\n          e.currentTarget as HTMLElement\n        const _states = unref(states)\n        if (_states.scrollOffset === scrollTop) {\n          return\n        }\n\n        const scrollOffset = Math.max(\n          0,\n          Math.min(scrollTop, scrollHeight - clientHeight)\n        )\n\n        states.value = {\n          ..._states,\n          isScrolling: true,\n          scrollDir: getScrollDir(_states.scrollOffset, scrollOffset),\n          scrollOffset,\n          updateRequested: false,\n        }\n\n        nextTick(resetIsScrolling)\n      }\n\n      const scrollHorizontally = (e: Event) => {\n        const { clientWidth, scrollLeft, scrollWidth } =\n          e.currentTarget as HTMLElement\n        const _states = unref(states)\n\n        if (_states.scrollOffset === scrollLeft) {\n          return\n        }\n\n        const { direction } = props\n\n        let scrollOffset = scrollLeft\n\n        if (direction === RTL) {\n          // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n          // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n          switch (getRTLOffsetType()) {\n            case RTL_OFFSET_NAG: {\n              scrollOffset = -scrollLeft\n              break\n            }\n            case RTL_OFFSET_POS_DESC: {\n              scrollOffset = scrollWidth - clientWidth - scrollLeft\n              break\n            }\n          }\n        }\n\n        scrollOffset = Math.max(\n          0,\n          Math.min(scrollOffset, scrollWidth - clientWidth)\n        )\n\n        states.value = {\n          ..._states,\n          isScrolling: true,\n          scrollDir: getScrollDir(_states.scrollOffset, scrollOffset),\n          scrollOffset,\n          updateRequested: false,\n        }\n\n        nextTick(resetIsScrolling)\n      }\n\n      const onScroll = (e: Event) => {\n        unref(_isHorizontal) ? scrollHorizontally(e) : scrollVertically(e)\n        emitEvents()\n      }\n\n      const onScrollbarScroll = (distanceToGo: number, totalSteps: number) => {\n        const offset =\n          ((estimatedTotalSize.value - (clientSize.value as number)) /\n            totalSteps) *\n          distanceToGo\n        scrollTo(\n          Math.min(\n            estimatedTotalSize.value - (clientSize.value as number),\n            offset\n          )\n        )\n      }\n\n      const scrollTo = (offset: number) => {\n        offset = Math.max(offset, 0)\n\n        if (offset === unref(states).scrollOffset) {\n          return\n        }\n\n        states.value = {\n          ...unref(states),\n          scrollOffset: offset,\n          scrollDir: getScrollDir(unref(states).scrollOffset, offset),\n          updateRequested: true,\n        }\n\n        nextTick(resetIsScrolling)\n      }\n\n      const scrollToItem = (\n        idx: number,\n        alignment: Alignment = AUTO_ALIGNMENT\n      ) => {\n        const { scrollOffset } = unref(states)\n\n        idx = Math.max(0, Math.min(idx, props.total! - 1))\n        scrollTo(\n          getOffset(\n            props,\n            idx,\n            alignment,\n            scrollOffset,\n            unref(dynamicSizeCache)\n          )\n        )\n      }\n\n      const getItemStyle = (idx: number) => {\n        const { direction, itemSize, layout } = props\n\n        const itemStyleCache = getItemStyleCache.value(\n          clearCache && itemSize,\n          clearCache && layout,\n          clearCache && direction\n        )\n\n        let style: CSSProperties\n        if (hasOwn(itemStyleCache, String(idx))) {\n          style = itemStyleCache[idx]\n        } else {\n          const offset = getItemOffset(props, idx, unref(dynamicSizeCache))\n          const size = getItemSize(props, idx, unref(dynamicSizeCache))\n          const horizontal = unref(_isHorizontal)\n\n          const isRtl = direction === RTL\n          const offsetHorizontal = horizontal ? offset : 0\n          itemStyleCache[idx] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : `${offsetHorizontal}px`,\n            right: isRtl ? `${offsetHorizontal}px` : undefined,\n            top: !horizontal ? `${offset}px` : 0,\n            height: !horizontal ? `${size}px` : '100%',\n            width: horizontal ? `${size}px` : '100%',\n          }\n        }\n\n        return style\n      }\n\n      // TODO: perf optimization here, reset isScrolling with debounce.\n\n      const resetIsScrolling = () => {\n        states.value.isScrolling = false\n        nextTick(() => {\n          getItemStyleCache.value(-1, null, null)\n        })\n      }\n\n      const resetScrollTop = () => {\n        const window = windowRef.value\n        if (window) {\n          window.scrollTop = 0\n        }\n      }\n\n      // life cycles\n      onMounted(() => {\n        if (!isClient) return\n        const { initScrollOffset } = props\n        const windowElement = unref(windowRef)\n        if (isNumber(initScrollOffset) && windowElement) {\n          if (unref(_isHorizontal)) {\n            windowElement.scrollLeft = initScrollOffset\n          } else {\n            windowElement.scrollTop = initScrollOffset\n          }\n        }\n\n        emitEvents()\n      })\n\n      onUpdated(() => {\n        const { direction, layout } = props\n        const { scrollOffset, updateRequested } = unref(states)\n        const windowElement = unref(windowRef)\n\n        if (updateRequested && windowElement) {\n          if (layout === HORIZONTAL) {\n            if (direction === RTL) {\n              // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n              // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n              // So we need to determine which browser behavior we're dealing with, and mimic it.\n              switch (getRTLOffsetType()) {\n                case RTL_OFFSET_NAG: {\n                  windowElement.scrollLeft = -scrollOffset\n                  break\n                }\n                case RTL_OFFSET_POS_ASC: {\n                  windowElement.scrollLeft = scrollOffset\n                  break\n                }\n                default: {\n                  const { clientWidth, scrollWidth } = windowElement\n                  windowElement.scrollLeft =\n                    scrollWidth - clientWidth - scrollOffset\n                  break\n                }\n              }\n            } else {\n              windowElement.scrollLeft = scrollOffset\n            }\n          } else {\n            windowElement.scrollTop = scrollOffset\n          }\n        }\n      })\n\n      onActivated(() => {\n        unref(windowRef)!.scrollTop = unref(states).scrollOffset\n      })\n\n      const api = {\n        ns,\n        clientSize,\n        estimatedTotalSize,\n        windowStyle,\n        windowRef,\n        innerRef,\n        innerStyle,\n        itemsToRender,\n        scrollbarRef,\n        states,\n        getItemStyle,\n        onScroll,\n        onScrollbarScroll,\n        onWheel,\n        scrollTo,\n        scrollToItem,\n        resetScrollTop,\n      }\n\n      expose({\n        windowRef,\n        innerRef,\n        getItemStyleCache,\n        scrollTo,\n        scrollToItem,\n        resetScrollTop,\n        states,\n      })\n\n      return api\n    },\n\n    render(ctx: any) {\n      const {\n        $slots,\n        className,\n        clientSize,\n        containerElement,\n        data,\n        getItemStyle,\n        innerElement,\n        itemsToRender,\n        innerStyle,\n        layout,\n        total,\n        onScroll,\n        onScrollbarScroll,\n        states,\n        useIsScrolling,\n        windowStyle,\n        ns,\n      } = ctx\n\n      const [start, end] = itemsToRender\n\n      const Container = resolveDynamicComponent(containerElement)\n      const Inner = resolveDynamicComponent(innerElement)\n\n      const children = [] as VNodeChild[]\n\n      if (total > 0) {\n        for (let i = start; i <= end; i++) {\n          children.push(\n            h(\n              Fragment,\n              { key: i },\n              ($slots.default as Slot)?.({\n                data,\n                index: i,\n                isScrolling: useIsScrolling ? states.isScrolling : undefined,\n                style: getItemStyle(i),\n              })\n            )\n          )\n        }\n      }\n\n      const InnerNode = [\n        h(\n          Inner as VNode,\n          {\n            style: innerStyle,\n            ref: 'innerRef',\n          },\n          !isString(Inner)\n            ? {\n                default: () => children,\n              }\n            : children\n        ),\n      ]\n\n      const scrollbar = h(Scrollbar, {\n        ref: 'scrollbarRef',\n        clientSize,\n        layout,\n        onScroll: onScrollbarScroll,\n        ratio: (clientSize * 100) / this.estimatedTotalSize,\n        scrollFrom:\n          states.scrollOffset / (this.estimatedTotalSize - clientSize),\n        total,\n      })\n\n      const listContainer = h(\n        Container as VNode,\n        {\n          class: [ns.e('window'), className],\n          style: windowStyle,\n          onScroll,\n          ref: 'windowRef',\n          key: 0,\n        },\n        !isString(Container) ? { default: () => [InnerNode] } : [InnerNode]\n      )\n\n      return h(\n        'div',\n        {\n          key: 0,\n          class: [ns.e('wrapper'), states.scrollbarAlwaysOn ? 'always-on' : ''],\n        },\n        [listContainer, scrollbar]\n      )\n    },\n  })\n}\n\nexport default createList\n", "import { isString, throwError } from '@element-plus/utils'\nimport buildList from '../builders/build-list'\nimport { isHorizontal } from '../utils'\nimport {\n  AUTO_ALIGNMENT,\n  CENTERED_ALIGNMENT,\n  END_ALIGNMENT,\n  SMART_ALIGNMENT,\n  START_ALIGNMENT,\n} from '../defaults'\n\nimport type { VirtualizedListProps } from '../props'\n\ntype Props = VirtualizedListProps\n\nconst FixedSizeList = buildList({\n  name: 'ElFixedSizeList',\n  getItemOffset: ({ itemSize }, index) => index * (itemSize as number),\n\n  getItemSize: ({ itemSize }) => itemSize as number,\n\n  getEstimatedTotalSize: ({ total, itemSize }) => (itemSize as number) * total,\n\n  getOffset: (\n    { height, total, itemSize, layout, width },\n    index,\n    alignment,\n    scrollOffset\n  ) => {\n    const size = (isHorizontal(layout) ? width : height) as number\n    if (process.env.NODE_ENV !== 'production' && isString(size)) {\n      throwError(\n        '[ElVirtualList]',\n        `\n        You should set\n          width/height\n        to number when your layout is\n          horizontal/vertical\n      `\n      )\n    }\n    const lastItemOffset = Math.max(0, total * (itemSize as number) - size)\n    const maxOffset = Math.min(lastItemOffset, index * (itemSize as number))\n    const minOffset = Math.max(0, (index + 1) * (itemSize as number) - size)\n\n    if (alignment === SMART_ALIGNMENT) {\n      if (\n        scrollOffset >= minOffset - size &&\n        scrollOffset <= maxOffset + size\n      ) {\n        alignment = AUTO_ALIGNMENT\n      } else {\n        alignment = CENTERED_ALIGNMENT\n      }\n    }\n\n    switch (alignment) {\n      case START_ALIGNMENT: {\n        return maxOffset\n      }\n      case END_ALIGNMENT: {\n        return minOffset\n      }\n      case CENTERED_ALIGNMENT: {\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        const middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2)\n        if (middleOffset < Math.ceil(size / 2)) {\n          return 0 // near the beginning\n        } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n          return lastItemOffset // near the end\n        } else {\n          return middleOffset\n        }\n      }\n      case AUTO_ALIGNMENT:\n      default: {\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset\n        } else if (scrollOffset < minOffset) {\n          return minOffset\n        } else {\n          return maxOffset\n        }\n      }\n    }\n  },\n\n  getStartIndexForOffset: ({ total, itemSize }, offset) =>\n    Math.max(0, Math.min(total - 1, Math.floor(offset / (itemSize as number)))),\n\n  getStopIndexForStartIndex: (\n    { height, total, itemSize, layout, width }: Props,\n    startIndex: number,\n    scrollOffset: number\n  ) => {\n    const offset = startIndex * (itemSize as number)\n    const size = isHorizontal(layout) ? width : height\n    const numVisibleItems = Math.ceil(\n      ((size as number) + scrollOffset - offset) / (itemSize as number)\n    )\n    return Math.max(\n      0,\n      Math.min(\n        total - 1,\n        // because startIndex is inclusive, so in order to prevent array outbound indexing\n        // we need to - 1 to prevent outbound behavior\n        startIndex + numVisibleItems - 1\n      )\n    )\n  },\n\n  /**\n   * Fixed size list does not need this cache\n   * Using any to bypass it, TODO: Using type inference to fix this.\n   */\n  initCache() {\n    return undefined as any\n  },\n\n  clearCache: true,\n\n  validateProps() {},\n})\n\nexport type FixedSizeListInstance = InstanceType<typeof FixedSizeList> & unknown\nexport default FixedSizeList\n", "import { throwError } from '@element-plus/utils'\n\nimport createList from '../builders/build-list'\n\nimport { isHorizontal } from '../utils'\nimport {\n  AUTO_ALIGNMENT,\n  CENTERED_ALIGNMENT,\n  DEFAULT_DYNAMIC_LIST_ITEM_SIZE,\n  END_ALIGNMENT,\n  SMART_ALIGNMENT,\n  START_ALIGNMENT,\n} from '../defaults'\nimport type { VirtualizedListProps } from '../props'\n\nimport type { ItemSize, ListCache, ListItem } from '../types'\n\ntype Props = VirtualizedListProps\n\nconst SCOPE = 'ElDynamicSizeList'\nconst getItemFromCache = (\n  props: Props,\n  index: number,\n  listCache: ListCache\n): ListItem => {\n  const { itemSize } = props\n  const { items, lastVisitedIndex } = listCache\n\n  if (index > lastVisitedIndex) {\n    let offset = 0\n    if (lastVisitedIndex >= 0) {\n      const item = items[lastVisitedIndex]\n      offset = item.offset + item.size\n    }\n\n    for (let i = lastVisitedIndex + 1; i <= index; i++) {\n      const size = (itemSize as ItemSize)(i)\n\n      items[i] = {\n        offset,\n        size,\n      }\n\n      offset += size\n    }\n\n    listCache.lastVisitedIndex = index\n  }\n\n  return items[index]\n}\n\nconst findItem = (props: Props, listCache: ListCache, offset: number) => {\n  const { items, lastVisitedIndex } = listCache\n\n  const lastVisitedOffset =\n    lastVisitedIndex > 0 ? items[lastVisitedIndex].offset : 0\n\n  if (lastVisitedOffset >= offset) {\n    return bs(props, listCache, 0, lastVisitedIndex, offset)\n  }\n  return es(props, listCache, Math.max(0, lastVisitedIndex), offset)\n}\n\n// bs stands for binary search which has approximately time complexity of O(Log n)\n// space complexity of O(1)\n// in this case we use it for search the offset of each item, since\n// the cached items' offset is monotonically increasing\nconst bs = (\n  props: Props,\n  listCache: ListCache,\n  low: number,\n  high: number,\n  offset: number\n) => {\n  while (low <= high) {\n    const mid = low + Math.floor((high - low) / 2)\n    const currentOffset = getItemFromCache(props, mid, listCache).offset\n\n    if (currentOffset === offset) {\n      return mid\n    } else if (currentOffset < offset) {\n      low = mid + 1\n    } else if (currentOffset > offset) {\n      high = mid - 1\n    }\n  }\n\n  return Math.max(0, low - 1)\n}\n\n// es stands for exponential search which has time complexity of O(Log n) and\n// space complexity of O(1) in the case of finding the boundary element.\n// the exponential indicator in this case is 2.\n// for more detail about exponential search click this link\n// https://www.freecodecamp.org/news/search-algorithms-exponential-search-explained/\n\nconst es = (\n  props: Props,\n  listCache: ListCache,\n  index: number,\n  offset: number\n) => {\n  const { total } = props\n  let exponent = 1\n\n  while (\n    index < total &&\n    getItemFromCache(props, index, listCache).offset < offset\n  ) {\n    index += exponent\n    exponent *= 2\n  }\n\n  return bs(\n    props,\n    listCache,\n    Math.floor(index / 2),\n    Math.min(index, total - 1),\n    offset\n  )\n}\n\nconst getEstimatedTotalSize = (\n  { total }: Props,\n  { items, estimatedItemSize, lastVisitedIndex }: ListCache\n) => {\n  let totalSizeOfMeasuredItems = 0\n\n  if (lastVisitedIndex >= total) {\n    lastVisitedIndex = total - 1\n  }\n\n  if (lastVisitedIndex >= 0) {\n    const item = items[lastVisitedIndex]\n    totalSizeOfMeasuredItems = item.offset + item.size\n  }\n\n  const numUnmeasuredItems = total - lastVisitedIndex - 1\n  const totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems\n}\n\nconst DynamicSizeList = createList({\n  name: 'ElDynamicSizeList',\n  getItemOffset: (props, index, listCache) =>\n    getItemFromCache(props, index, listCache).offset,\n\n  getItemSize: (_, index, { items }) => items[index].size,\n\n  getEstimatedTotalSize,\n\n  getOffset: (props, index, alignment, scrollOffset, listCache) => {\n    const { height, layout, width } = props\n\n    const size = (isHorizontal(layout) ? width : height) as number\n    const item = getItemFromCache(props, index, listCache)\n\n    const estimatedTotalSize = getEstimatedTotalSize(props, listCache)\n\n    const maxOffset = Math.max(\n      0,\n      Math.min(estimatedTotalSize - size, item.offset)\n    )\n    const minOffset = Math.max(0, item.offset - size + item.size)\n\n    if (alignment === SMART_ALIGNMENT) {\n      if (\n        scrollOffset >= minOffset - size &&\n        scrollOffset <= maxOffset + size\n      ) {\n        alignment = AUTO_ALIGNMENT\n      } else {\n        alignment = CENTERED_ALIGNMENT\n      }\n    }\n\n    switch (alignment) {\n      case START_ALIGNMENT: {\n        return maxOffset\n      }\n      case END_ALIGNMENT: {\n        return minOffset\n      }\n      case CENTERED_ALIGNMENT: {\n        return Math.round(minOffset + (maxOffset - minOffset) / 2)\n      }\n      case AUTO_ALIGNMENT:\n      default: {\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset\n        } else if (scrollOffset < minOffset) {\n          return minOffset\n        } else {\n          return maxOffset\n        }\n      }\n    }\n  },\n\n  getStartIndexForOffset: (props, offset, listCache) =>\n    findItem(props, listCache, offset),\n\n  getStopIndexForStartIndex: (props, startIndex, scrollOffset, listCache) => {\n    const { height, total, layout, width } = props\n\n    const size = (isHorizontal(layout) ? width : height) as number\n    const item = getItemFromCache(props, startIndex, listCache)\n    const maxOffset = scrollOffset + size\n\n    let offset = item.offset + item.size\n    let stopIndex = startIndex\n\n    while (stopIndex < total - 1 && offset < maxOffset) {\n      stopIndex++\n      offset += getItemFromCache(props, stopIndex, listCache).size\n    }\n\n    return stopIndex\n  },\n\n  initCache({ estimatedItemSize = DEFAULT_DYNAMIC_LIST_ITEM_SIZE }, instance) {\n    const cache = {\n      items: {},\n      estimatedItemSize,\n      lastVisitedIndex: -1,\n    } as ListCache\n\n    cache.clearCacheAfterIndex = (index: number, forceUpdate = true) => {\n      cache.lastVisitedIndex = Math.min(cache.lastVisitedIndex, index - 1)\n      instance.exposed?.getItemStyleCache(-1)\n\n      if (forceUpdate) {\n        instance.proxy?.$forceUpdate()\n      }\n    }\n\n    return cache\n  },\n\n  clearCache: false,\n\n  validateProps: ({ itemSize }) => {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'function') {\n        throwError(\n          SCOPE,\n          `\n          itemSize is required as function, but the given value was ${typeof itemSize}\n        `\n        )\n      }\n    }\n  },\n})\n\nexport type DynamicSizeListInstance = InstanceType<typeof DynamicSizeList> &\n  unknown\nexport default DynamicSizeList\n", "import {\n  computed,\n  defineComponent,\n  inject,\n  ref,\n  toRaw,\n  unref,\n  watch,\n} from 'vue'\nimport { get } from 'lodash-unified'\nimport { isIOS, isObject, isUndefined } from '@element-plus/utils'\nimport {\n  DynamicSizeList,\n  FixedSizeList,\n} from '@element-plus/components/virtual-list'\nimport { useNamespace } from '@element-plus/hooks'\nimport { EVENT_CODE } from '@element-plus/constants'\nimport GroupItem from './group-item.vue'\nimport OptionItem from './option-item.vue'\nimport { useProps } from './useProps'\n\nimport { selectV2InjectionKey } from './token'\n\nimport type {\n  DynamicSizeListInstance,\n  FixedSizeListInstance,\n  ItemProps,\n} from '@element-plus/components/virtual-list'\nimport type { Option, OptionItemProps } from './select.types'\nimport type {\n  ComponentPublicInstance,\n  ComputedRef,\n  ExtractPropTypes,\n  Ref,\n} from 'vue'\n\nconst props = {\n  loading: Boolean,\n  data: {\n    type: Array,\n    required: true as const,\n  },\n  hoveringIndex: Number,\n  width: Number,\n}\ninterface SelectDropdownExposed {\n  listRef: Ref<FixedSizeListInstance | DynamicSizeListInstance | undefined>\n  isSized: ComputedRef<boolean>\n  isItemDisabled: (modelValue: any[] | any, selected: boolean) => boolean\n  isItemHovering: (target: number) => boolean\n  isItemSelected: (modelValue: any[] | any, target: Option) => boolean\n  scrollToItem: (index: number) => void\n  resetScrollTop: () => void\n}\nexport type SelectDropdownInstance = ComponentPublicInstance<\n  ExtractPropTypes<typeof props>,\n  SelectDropdownExposed\n>\nexport default defineComponent({\n  name: 'ElSelectDropdown',\n  props,\n  setup(props, { slots, expose }) {\n    const select = inject(selectV2InjectionKey)!\n    const ns = useNamespace('select')\n    const { getLabel, getValue, getDisabled } = useProps(select.props)\n\n    const cachedHeights = ref<Array<number>>([])\n\n    const listRef = ref<FixedSizeListInstance | DynamicSizeListInstance>()\n\n    const size = computed(() => props.data.length)\n    watch(\n      () => size.value,\n      () => {\n        select.tooltipRef.value!.updatePopper?.()\n      }\n    )\n\n    const isSized = computed(() =>\n      isUndefined(select.props.estimatedOptionHeight)\n    )\n    const listProps = computed(() => {\n      if (isSized.value) {\n        return {\n          itemSize: select.props.itemHeight,\n        }\n      }\n\n      return {\n        estimatedSize: select.props.estimatedOptionHeight,\n        itemSize: (idx: number) => cachedHeights.value[idx],\n      }\n    })\n\n    const contains = (arr: Array<any> = [], target: any) => {\n      const {\n        props: { valueKey },\n      } = select\n\n      if (!isObject(target)) {\n        return arr.includes(target)\n      }\n\n      return (\n        arr &&\n        arr.some((item) => {\n          return toRaw(get(item, valueKey)) === get(target, valueKey)\n        })\n      )\n    }\n    const isEqual = (selected: unknown, target: unknown) => {\n      if (!isObject(target)) {\n        return selected === target\n      } else {\n        const { valueKey } = select.props\n        return get(selected, valueKey) === get(target, valueKey)\n      }\n    }\n\n    const isItemSelected: SelectDropdownExposed['isItemSelected'] = (\n      modelValue,\n      target\n    ) => {\n      if (select.props.multiple) {\n        return contains(modelValue, getValue(target))\n      }\n      return isEqual(modelValue, getValue(target))\n    }\n\n    const isItemDisabled: SelectDropdownExposed['isItemDisabled'] = (\n      modelValue,\n      selected\n    ) => {\n      const { disabled, multiple, multipleLimit } = select.props\n      return (\n        disabled ||\n        (!selected &&\n          (multiple\n            ? multipleLimit > 0 && modelValue.length >= multipleLimit\n            : false))\n      )\n    }\n\n    const isItemHovering: SelectDropdownExposed['isItemHovering'] = (target) =>\n      props.hoveringIndex === target\n\n    const scrollToItem: SelectDropdownExposed['scrollToItem'] = (index) => {\n      const list = listRef.value\n      if (list) {\n        list.scrollToItem(index)\n      }\n    }\n\n    const resetScrollTop: SelectDropdownExposed['resetScrollTop'] = () => {\n      const list = listRef.value\n      if (list) {\n        list.resetScrollTop()\n      }\n    }\n    const exposed: SelectDropdownExposed = {\n      listRef,\n      isSized,\n\n      isItemDisabled,\n      isItemHovering,\n      isItemSelected,\n      scrollToItem,\n      resetScrollTop,\n    }\n    expose(exposed)\n\n    const Item = (itemProps: ItemProps<any>) => {\n      const { index, data, style } = itemProps\n      const sized = unref(isSized)\n      const { itemSize, estimatedSize } = unref(listProps)\n      const { modelValue } = select.props\n      const { onSelect, onHover } = select\n      const item = data[index]\n      if (item.type === 'Group') {\n        return (\n          <GroupItem\n            item={item}\n            style={style}\n            height={sized ? (itemSize as number) : estimatedSize}\n          />\n        )\n      }\n\n      const isSelected = isItemSelected(modelValue, item)\n      const isDisabled = isItemDisabled(modelValue, isSelected)\n      const isHovering = isItemHovering(index)\n      return (\n        <OptionItem\n          {...itemProps}\n          selected={isSelected}\n          disabled={getDisabled(item) || isDisabled}\n          created={!!item.created}\n          hovering={isHovering}\n          item={item}\n          onSelect={onSelect}\n          onHover={onHover}\n        >\n          {{\n            default: (props: OptionItemProps) =>\n              slots.default?.(props) || <span>{getLabel(item)}</span>,\n          }}\n        </OptionItem>\n      )\n    }\n\n    // computed\n    const { onKeyboardNavigate, onKeyboardSelect } = select\n\n    const onForward = () => {\n      onKeyboardNavigate('forward')\n    }\n\n    const onBackward = () => {\n      onKeyboardNavigate('backward')\n    }\n\n    const onEscOrTab = () => {\n      // The following line actually doesn't work. Fixing it may introduce a small breaking change for some users, so just comment it out for now.\n      // select.expanded = false\n    }\n\n    const onKeydown = (e: KeyboardEvent) => {\n      const { code } = e\n      const { tab, esc, down, up, enter, numpadEnter } = EVENT_CODE\n      if ([esc, down, up, enter, numpadEnter].includes(code)) {\n        e.preventDefault()\n        e.stopPropagation()\n      }\n\n      switch (code) {\n        case tab:\n        case esc:\n          onEscOrTab()\n          break\n        case down:\n          onForward()\n          break\n        case up:\n          onBackward()\n          break\n        case enter:\n        case numpadEnter:\n          onKeyboardSelect()\n          break\n      }\n    }\n\n    return () => {\n      const { data, width } = props\n      const { height, multiple, scrollbarAlwaysOn } = select.props\n      const isScrollbarAlwaysOn = computed(() => {\n        // fix https://github.com/element-plus/element-plus/issues/19127\n        return isIOS ? true : scrollbarAlwaysOn\n      })\n\n      const List = unref(isSized) ? FixedSizeList : DynamicSizeList\n\n      return (\n        <div\n          class={[ns.b('dropdown'), ns.is('multiple', multiple)]}\n          style={{\n            width: `${width}px`,\n          }}\n        >\n          {slots.header?.()}\n          {slots.loading?.() || slots.empty?.() || (\n            <List\n              ref={listRef}\n              {...unref(listProps)}\n              className={ns.be('dropdown', 'list')}\n              scrollbarAlwaysOn={isScrollbarAlwaysOn.value}\n              data={data}\n              height={height}\n              width={width}\n              total={data.length}\n              // @ts-ignore - dts problem\n              onKeydown={onKeydown}\n            >\n              {{\n                default: (props: ItemProps<any>) => <Item {...props} />,\n              }}\n            </List>\n          )}\n          {slots.footer?.()}\n        </div>\n      )\n    }\n  },\n})\n", "import { computed, ref } from 'vue'\nimport { useProps } from './useProps'\nimport type { ISelectV2Props } from './token'\nimport type { Option, SelectStates } from './select.types'\n\nexport function useAllowCreate(props: ISelectV2Props, states: SelectStates) {\n  const { aliasProps, getLabel, getValue } = useProps(props)\n\n  const createOptionCount = ref(0)\n  const cachedSelectedOption = ref<Option>()\n\n  const enableAllowCreateMode = computed(() => {\n    return props.allowCreate && props.filterable\n  })\n\n  function hasExistingOption(query: string) {\n    const hasOption = (option: Option) => getLabel(option) === query\n    return (\n      (props.options && props.options.some(hasOption)) ||\n      states.createdOptions.some(hasOption)\n    )\n  }\n\n  function selectNewOption(option: Option) {\n    if (!enableAllowCreateMode.value) {\n      return\n    }\n    if (props.multiple && option.created) {\n      createOptionCount.value++\n    } else {\n      cachedSelectedOption.value = option\n    }\n  }\n\n  function createNewOption(query: string) {\n    if (enableAllowCreateMode.value) {\n      if (query && query.length > 0) {\n        if (hasExistingOption(query)) {\n          return\n        }\n        const newOption = {\n          [aliasProps.value.value]: query,\n          [aliasProps.value.label]: query,\n          created: true,\n          [aliasProps.value.disabled]: false,\n        }\n        if (states.createdOptions.length >= createOptionCount.value) {\n          states.createdOptions[createOptionCount.value] = newOption\n        } else {\n          states.createdOptions.push(newOption)\n        }\n      } else {\n        if (props.multiple) {\n          states.createdOptions.length = createOptionCount.value\n        } else {\n          const selectedOption = cachedSelectedOption.value\n          states.createdOptions.length = 0\n          if (selectedOption && selectedOption.created) {\n            states.createdOptions.push(selectedOption)\n          }\n        }\n      }\n    }\n  }\n\n  function removeNewOption(option: Option) {\n    if (\n      !enableAllowCreateMode.value ||\n      !option ||\n      !option.created ||\n      (option.created &&\n        props.reserveKeyword &&\n        states.inputValue === getLabel(option))\n    ) {\n      return\n    }\n    const idx = states.createdOptions.findIndex(\n      (it) => getValue(it) === getValue(option)\n    )\n    if (~idx) {\n      states.createdOptions.splice(idx, 1)\n      createOptionCount.value--\n    }\n  }\n\n  function clearAllNewOption() {\n    if (enableAllowCreateMode.value) {\n      states.createdOptions.length = 0\n      createOptionCount.value = 0\n    }\n  }\n\n  return {\n    createNewOption,\n    removeNewOption,\n    selectNewOption,\n    clearAllNewOption,\n  }\n}\n", "import {\n  computed,\n  nextTick,\n  onMounted,\n  reactive,\n  ref,\n  watch,\n  watchEffect,\n} from 'vue'\nimport {\n  findLastIndex,\n  get,\n  isEqual,\n  debounce as lodashDebounce,\n} from 'lodash-unified'\nimport { useResizeObserver } from '@vueuse/core'\nimport {\n  ValidateComponentsMap,\n  debugWarn,\n  escapeStringRegexp,\n  isArray,\n  isFunction,\n  isNumber,\n  isObject,\n  isUndefined,\n} from '@element-plus/utils'\nimport {\n  useComposition,\n  useEmptyValues,\n  useFocusController,\n  useLocale,\n  useNamespace,\n} from '@element-plus/hooks'\nimport {\n  CHANGE_EVENT,\n  EVENT_CODE,\n  UPDATE_MODEL_EVENT,\n} from '@element-plus/constants'\nimport {\n  useFormItem,\n  useFormItemInputId,\n  useFormSize,\n} from '@element-plus/components/form'\n\nimport { useAllowCreate } from './useAllowCreate'\nimport { useProps } from './useProps'\n\nimport type { Option, OptionType, SelectStates } from './select.types'\nimport type { ISelectV2Props } from './token'\nimport type { SelectEmitFn } from './defaults'\nimport type { TooltipInstance } from '@element-plus/components/tooltip'\nimport type { SelectDropdownInstance } from './select-dropdown'\n\nconst useSelect = (props: ISelectV2Props, emit: SelectEmitFn) => {\n  // inject\n  const { t } = useLocale()\n  const nsSelect = useNamespace('select')\n  const nsInput = useNamespace('input')\n  const { form: elForm, formItem: elFormItem } = useFormItem()\n  const { inputId } = useFormItemInputId(props, {\n    formItemContext: elFormItem,\n  })\n  const { aliasProps, getLabel, getValue, getDisabled, getOptions } =\n    useProps(props)\n  const { valueOnClear, isEmptyValue } = useEmptyValues(props)\n\n  const states: SelectStates = reactive({\n    inputValue: '',\n    cachedOptions: [],\n    createdOptions: [],\n    hoveringIndex: -1,\n    inputHovering: false,\n    selectionWidth: 0,\n    collapseItemWidth: 0,\n    previousQuery: null,\n    previousValue: undefined,\n    selectedLabel: '',\n    menuVisibleOnFocus: false,\n    isBeforeHide: false,\n  })\n\n  // data refs\n  const popperSize = ref(-1)\n\n  // DOM & Component refs\n  const selectRef = ref<HTMLElement>()\n  const selectionRef = ref<HTMLElement>()\n  const tooltipRef = ref<TooltipInstance>()\n  const tagTooltipRef = ref<TooltipInstance>()\n  const inputRef = ref<HTMLElement>()\n  const prefixRef = ref<HTMLElement>()\n  const suffixRef = ref<HTMLElement>()\n  const menuRef = ref<SelectDropdownInstance>()\n  const tagMenuRef = ref<HTMLElement>()\n  const collapseItemRef = ref<HTMLElement>()\n\n  const {\n    isComposing,\n    handleCompositionStart,\n    handleCompositionEnd,\n    handleCompositionUpdate,\n  } = useComposition({\n    afterComposition: (e) => onInput(e),\n  })\n\n  const { wrapperRef, isFocused, handleBlur } = useFocusController(inputRef, {\n    beforeFocus() {\n      return selectDisabled.value\n    },\n    afterFocus() {\n      if (props.automaticDropdown && !expanded.value) {\n        expanded.value = true\n        states.menuVisibleOnFocus = true\n      }\n    },\n    beforeBlur(event) {\n      return (\n        tooltipRef.value?.isFocusInsideContent(event) ||\n        tagTooltipRef.value?.isFocusInsideContent(event)\n      )\n    },\n    afterBlur() {\n      expanded.value = false\n      states.menuVisibleOnFocus = false\n      if (props.validateEvent) {\n        elFormItem?.validate?.('blur').catch((err) => debugWarn(err))\n      }\n    },\n  })\n\n  const allOptions = computed(() => filterOptions(''))\n\n  const hasOptions = computed(() => {\n    if (props.loading) return false\n    return props.options.length > 0 || states.createdOptions.length > 0\n  })\n\n  const filteredOptions = ref<OptionType[]>([])\n  // the controller of the expanded popup\n  const expanded = ref(false)\n\n  const selectDisabled = computed(() => props.disabled || elForm?.disabled)\n\n  const needStatusIcon = computed(() => elForm?.statusIcon ?? false)\n\n  const popupHeight = computed(() => {\n    const totalHeight = filteredOptions.value.length * props.itemHeight\n    return totalHeight > props.height ? props.height : totalHeight\n  })\n\n  const hasModelValue = computed(() => {\n    return props.multiple\n      ? isArray(props.modelValue) && props.modelValue.length > 0\n      : !isEmptyValue(props.modelValue)\n  })\n\n  const showClearBtn = computed(() => {\n    return (\n      props.clearable &&\n      !selectDisabled.value &&\n      states.inputHovering &&\n      hasModelValue.value\n    )\n  })\n\n  const iconComponent = computed(() =>\n    props.remote && props.filterable ? '' : props.suffixIcon\n  )\n\n  const iconReverse = computed(\n    () => iconComponent.value && nsSelect.is('reverse', expanded.value)\n  )\n\n  const validateState = computed(() => elFormItem?.validateState || '')\n  const validateIcon = computed(() => {\n    // When we use indexed access to get the type of an undeclared property,\n    // the unsafe type `any` will be inferred, which TypeScript throws an error to emphasize it.\n    // To avoid TypeScript complaining about it, we use truthiness narrowing to narrow the type of validateState.\n    if (!validateState.value) return\n    return ValidateComponentsMap[validateState.value]\n  })\n\n  const debounce = computed(() => (props.remote ? 300 : 0))\n\n  // filteredOptions includes flatten the data into one dimensional array.\n  const emptyText = computed(() => {\n    if (props.loading) {\n      return props.loadingText || t('el.select.loading')\n    } else {\n      if (props.remote && !states.inputValue && !hasOptions.value) return false\n      if (\n        props.filterable &&\n        states.inputValue &&\n        hasOptions.value &&\n        filteredOptions.value.length === 0\n      ) {\n        return props.noMatchText || t('el.select.noMatch')\n      }\n      if (!hasOptions.value) {\n        return props.noDataText || t('el.select.noData')\n      }\n    }\n    return null\n  })\n\n  const filterOptions = (query: string) => {\n    const regexp = new RegExp(escapeStringRegexp(query), 'i')\n    const isFilterMethodValid =\n      props.filterable && isFunction(props.filterMethod)\n    const isRemoteMethodValid =\n      props.filterable && props.remote && isFunction(props.remoteMethod)\n    const isValidOption = (o: Option): boolean => {\n      if (isFilterMethodValid || isRemoteMethodValid) return true\n      // when query was given, we should test on the label see whether the label contains the given query\n      return query ? regexp.test(getLabel(o) || '') : true\n    }\n    if (props.loading) {\n      return []\n    }\n\n    return [...states.createdOptions, ...props.options].reduce((all, item) => {\n      const options = getOptions(item)\n\n      if (isArray(options)) {\n        const filtered = options.filter(isValidOption)\n\n        if (filtered.length > 0) {\n          all.push(\n            {\n              label: getLabel(item),\n              type: 'Group',\n            },\n            ...filtered\n          )\n        }\n      } else if (props.remote || isValidOption(item)) {\n        all.push(item)\n      }\n\n      return all\n    }, []) as OptionType[]\n  }\n\n  const updateOptions = () => {\n    filteredOptions.value = filterOptions(states.inputValue)\n  }\n\n  const allOptionsValueMap = computed(() => {\n    const valueMap = new Map()\n\n    allOptions.value.forEach((option, index) => {\n      valueMap.set(getValueKey(getValue(option)), { option, index })\n    })\n    return valueMap\n  })\n\n  const filteredOptionsValueMap = computed(() => {\n    const valueMap = new Map()\n\n    filteredOptions.value.forEach((option, index) => {\n      valueMap.set(getValueKey(getValue(option)), { option, index })\n    })\n    return valueMap\n  })\n\n  const optionsAllDisabled = computed(() =>\n    filteredOptions.value.every((option) => getDisabled(option))\n  )\n\n  const selectSize = useFormSize()\n\n  const collapseTagSize = computed(() =>\n    'small' === selectSize.value ? 'small' : 'default'\n  )\n\n  const calculatePopperSize = () => {\n    if (isNumber(props.fitInputWidth)) {\n      popperSize.value = props.fitInputWidth\n      return\n    }\n    const width = selectRef.value?.offsetWidth || 200\n    if (!props.fitInputWidth && hasOptions.value) {\n      nextTick(() => {\n        popperSize.value = Math.max(width, calculateLabelMaxWidth())\n      })\n    } else {\n      popperSize.value = width\n    }\n  }\n\n  // TODO Caching implementation\n  // 1. There is no need to calculate options that have already been calculated\n  // 2. Repeatedly expand and close when persistent is set to false, no need for repeated calculations\n  const calculateLabelMaxWidth = () => {\n    const canvas = document.createElement('canvas')\n    const ctx = canvas.getContext('2d')\n    const selector = nsSelect.be('dropdown', 'item')\n    const dom = menuRef.value?.listRef?.innerRef || document\n    const dropdownItemEl = dom.querySelector(`.${selector}`)\n    if (dropdownItemEl === null || ctx === null) return 0\n    const style = getComputedStyle(dropdownItemEl)\n    const padding =\n      Number.parseFloat(style.paddingLeft) +\n      Number.parseFloat(style.paddingRight)\n    ctx.font = `bold ${style.font.replace(\n      new RegExp(`\\\\b${style.fontWeight}\\\\b`),\n      ''\n    )}`\n    const maxWidth = filteredOptions.value.reduce((max, option) => {\n      const metrics = ctx.measureText(getLabel(option))\n      return Math.max(metrics.width, max)\n    }, 0)\n    return maxWidth + padding\n  }\n\n  const getGapWidth = () => {\n    if (!selectionRef.value) return 0\n    const style = window.getComputedStyle(selectionRef.value)\n    return Number.parseFloat(style.gap || '6px')\n  }\n\n  // computed style\n  const tagStyle = computed(() => {\n    const gapWidth = getGapWidth()\n    const maxWidth =\n      collapseItemRef.value && props.maxCollapseTags === 1\n        ? states.selectionWidth - states.collapseItemWidth - gapWidth\n        : states.selectionWidth\n    return { maxWidth: `${maxWidth}px` }\n  })\n\n  const collapseTagStyle = computed(() => {\n    return { maxWidth: `${states.selectionWidth}px` }\n  })\n\n  const shouldShowPlaceholder = computed(() => {\n    if (isArray(props.modelValue)) {\n      return props.modelValue.length === 0 && !states.inputValue\n    }\n\n    // when it's not multiple mode, we only determine this flag based on filterable and expanded\n    // when filterable flag is true, which means we have input box on the screen\n    return props.filterable ? !states.inputValue : true\n  })\n\n  const currentPlaceholder = computed(() => {\n    const _placeholder = props.placeholder ?? t('el.select.placeholder')\n    return props.multiple || !hasModelValue.value\n      ? _placeholder\n      : states.selectedLabel\n  })\n\n  // this obtains the actual popper DOM element.\n  const popperRef = computed(() => tooltipRef.value?.popperRef?.contentRef)\n\n  // the index with current value in options\n  const indexRef = computed<number>(() => {\n    if (props.multiple) {\n      const len = (props.modelValue as []).length\n      if (\n        (props.modelValue as Array<any>).length > 0 &&\n        filteredOptionsValueMap.value.has(props.modelValue[len - 1])\n      ) {\n        const { index } = filteredOptionsValueMap.value.get(\n          props.modelValue[len - 1]\n        )\n        return index\n      }\n    } else {\n      if (\n        !isEmptyValue(props.modelValue) &&\n        filteredOptionsValueMap.value.has(props.modelValue)\n      ) {\n        const { index } = filteredOptionsValueMap.value.get(props.modelValue)\n        return index\n      }\n    }\n    return -1\n  })\n\n  const dropdownMenuVisible = computed({\n    get() {\n      return expanded.value && emptyText.value !== false\n    },\n    set(val: boolean) {\n      expanded.value = val\n    },\n  })\n\n  const showTagList = computed(() => {\n    if (!props.multiple) {\n      return []\n    }\n    return props.collapseTags\n      ? states.cachedOptions.slice(0, props.maxCollapseTags)\n      : states.cachedOptions\n  })\n\n  const collapseTagList = computed(() => {\n    if (!props.multiple) {\n      return []\n    }\n    return props.collapseTags\n      ? states.cachedOptions.slice(props.maxCollapseTags)\n      : []\n  })\n\n  // hooks\n  const {\n    createNewOption,\n    removeNewOption,\n    selectNewOption,\n    clearAllNewOption,\n  } = useAllowCreate(props, states)\n\n  // methods\n  const toggleMenu = () => {\n    if (selectDisabled.value) return\n\n    if (states.menuVisibleOnFocus) {\n      // controlled by automaticDropdown\n      states.menuVisibleOnFocus = false\n    } else {\n      expanded.value = !expanded.value\n    }\n  }\n\n  const onInputChange = () => {\n    if (states.inputValue.length > 0 && !expanded.value) {\n      expanded.value = true\n    }\n    createNewOption(states.inputValue)\n    handleQueryChange(states.inputValue)\n  }\n\n  const debouncedOnInputChange = lodashDebounce(onInputChange, debounce.value)\n\n  const handleQueryChange = (val: string) => {\n    if (states.previousQuery === val || isComposing.value) {\n      return\n    }\n    states.previousQuery = val\n    if (props.filterable && isFunction(props.filterMethod)) {\n      props.filterMethod(val)\n    } else if (\n      props.filterable &&\n      props.remote &&\n      isFunction(props.remoteMethod)\n    ) {\n      props.remoteMethod(val)\n    }\n    if (\n      props.defaultFirstOption &&\n      (props.filterable || props.remote) &&\n      filteredOptions.value.length\n    ) {\n      nextTick(checkDefaultFirstOption)\n    } else {\n      nextTick(updateHoveringIndex)\n    }\n  }\n\n  /**\n   * find and highlight first option as default selected\n   * @remark\n   * - if the first option in dropdown list is user-created,\n   *   it would be at the end of the optionsArray\n   *   so find it and set hover.\n   *   (NOTE: there must be only one user-created option in dropdown list with query)\n   * - if there's no user-created option in list, just find the first one as usual\n   *   (NOTE: exclude options that are disabled or in disabled-group)\n   */\n  const checkDefaultFirstOption = () => {\n    const optionsInDropdown = filteredOptions.value.filter(\n      (n) => !n.disabled && n.type !== 'Group'\n    )\n    const userCreatedOption = optionsInDropdown.find((n) => n.created)\n    const firstOriginOption = optionsInDropdown[0]\n    states.hoveringIndex = getValueIndex(\n      filteredOptions.value,\n      userCreatedOption || firstOriginOption\n    )\n  }\n\n  const emitChange = (val: any | any[]) => {\n    if (!isEqual(props.modelValue, val)) {\n      emit(CHANGE_EVENT, val)\n    }\n  }\n\n  const update = (val: any) => {\n    emit(UPDATE_MODEL_EVENT, val)\n    emitChange(val)\n    states.previousValue = props.multiple ? String(val) : val\n\n    nextTick(() => {\n      if (props.multiple && isArray(props.modelValue)) {\n        const selectedOptions = props.modelValue.map((value) =>\n          getOption(value)\n        )\n\n        if (!isEqual(states.cachedOptions, selectedOptions)) {\n          states.cachedOptions = selectedOptions\n        }\n      } else {\n        initStates(true)\n      }\n    })\n  }\n\n  const getValueIndex = (arr: unknown[] = [], value: unknown) => {\n    if (!isObject(value)) {\n      return arr.indexOf(value)\n    }\n    const valueKey = props.valueKey\n    let index = -1\n    arr.some((item, i) => {\n      if (get(item, valueKey) === get(value, valueKey)) {\n        index = i\n        return true\n      }\n      return false\n    })\n    return index\n  }\n\n  const getValueKey = (item: unknown) => {\n    return isObject(item) ? get(item, props.valueKey) : item\n  }\n\n  const handleResize = () => {\n    calculatePopperSize()\n  }\n\n  const resetSelectionWidth = () => {\n    states.selectionWidth = selectionRef.value!.getBoundingClientRect().width\n  }\n\n  const resetCollapseItemWidth = () => {\n    states.collapseItemWidth =\n      collapseItemRef.value!.getBoundingClientRect().width\n  }\n\n  const updateTooltip = () => {\n    tooltipRef.value?.updatePopper?.()\n  }\n\n  const updateTagTooltip = () => {\n    tagTooltipRef.value?.updatePopper?.()\n  }\n\n  const onSelect = (option: Option) => {\n    if (props.multiple) {\n      let selectedOptions = (props.modelValue as any[]).slice()\n\n      const index = getValueIndex(selectedOptions, getValue(option))\n      if (index > -1) {\n        selectedOptions = [\n          ...selectedOptions.slice(0, index),\n          ...selectedOptions.slice(index + 1),\n        ]\n        states.cachedOptions.splice(index, 1)\n        removeNewOption(option)\n      } else if (\n        props.multipleLimit <= 0 ||\n        selectedOptions.length < props.multipleLimit\n      ) {\n        selectedOptions = [...selectedOptions, getValue(option)]\n        states.cachedOptions.push(option)\n        selectNewOption(option)\n      }\n      update(selectedOptions)\n      if (option.created) {\n        handleQueryChange('')\n      }\n      if (props.filterable && !props.reserveKeyword) {\n        states.inputValue = ''\n      }\n    } else {\n      states.selectedLabel = getLabel(option)\n      update(getValue(option))\n      expanded.value = false\n      selectNewOption(option)\n      if (!option.created) {\n        clearAllNewOption()\n      }\n    }\n    focus()\n  }\n\n  const deleteTag = (event: MouseEvent, option: Option) => {\n    let selectedOptions = (props.modelValue as any[]).slice()\n\n    const index = getValueIndex(selectedOptions, getValue(option))\n\n    if (index > -1 && !selectDisabled.value) {\n      selectedOptions = [\n        ...(props.modelValue as Array<unknown>).slice(0, index),\n        ...(props.modelValue as Array<unknown>).slice(index + 1),\n      ]\n      states.cachedOptions.splice(index, 1)\n      update(selectedOptions)\n      emit('remove-tag', getValue(option))\n      removeNewOption(option)\n    }\n    event.stopPropagation()\n    focus()\n  }\n\n  const focus = () => {\n    inputRef.value?.focus()\n  }\n\n  const blur = () => {\n    if (expanded.value) {\n      expanded.value = false\n      nextTick(() => inputRef.value?.blur())\n      return\n    }\n    inputRef.value?.blur()\n  }\n\n  // keyboard handlers\n  const handleEsc = () => {\n    if (states.inputValue.length > 0) {\n      states.inputValue = ''\n    } else {\n      expanded.value = false\n    }\n  }\n\n  const getLastNotDisabledIndex = (value: unknown[]) =>\n    findLastIndex(\n      value,\n      (it) =>\n        !states.cachedOptions.some(\n          (option) => getValue(option) === it && getDisabled(option)\n        )\n    )\n\n  const handleDel = (e: KeyboardEvent) => {\n    if (!props.multiple) return\n    if (e.code === EVENT_CODE.delete) return\n    if (states.inputValue.length === 0) {\n      e.preventDefault()\n      const selected = (props.modelValue as Array<any>).slice()\n      const lastNotDisabledIndex = getLastNotDisabledIndex(selected)\n      if (lastNotDisabledIndex < 0) return\n      const removeTagValue = selected[lastNotDisabledIndex]\n      selected.splice(lastNotDisabledIndex, 1)\n      const option = states.cachedOptions[lastNotDisabledIndex]\n      states.cachedOptions.splice(lastNotDisabledIndex, 1)\n      removeNewOption(option)\n      update(selected)\n      emit('remove-tag', removeTagValue)\n    }\n  }\n\n  const handleClear = () => {\n    let emptyValue: string | any[]\n    if (isArray(props.modelValue)) {\n      emptyValue = []\n    } else {\n      emptyValue = valueOnClear.value\n    }\n\n    states.selectedLabel = ''\n\n    expanded.value = false\n    update(emptyValue)\n    emit('clear')\n    clearAllNewOption()\n    focus()\n  }\n\n  const onKeyboardNavigate = (\n    direction: 'forward' | 'backward',\n    hoveringIndex: number | undefined = undefined\n  ): void => {\n    const options = filteredOptions.value\n    if (\n      !['forward', 'backward'].includes(direction) ||\n      selectDisabled.value ||\n      options.length <= 0 ||\n      optionsAllDisabled.value ||\n      isComposing.value\n    ) {\n      return\n    }\n    if (!expanded.value) {\n      return toggleMenu()\n    }\n    if (isUndefined(hoveringIndex)) {\n      hoveringIndex = states.hoveringIndex\n    }\n    let newIndex = -1\n    if (direction === 'forward') {\n      newIndex = hoveringIndex + 1\n      if (newIndex >= options.length) {\n        // return to the first option\n        newIndex = 0\n      }\n    } else if (direction === 'backward') {\n      newIndex = hoveringIndex - 1\n      if (newIndex < 0 || newIndex >= options.length) {\n        // navigate to the last one\n        newIndex = options.length - 1\n      }\n    }\n    const option = options[newIndex]\n    if (getDisabled(option) || option.type === 'Group') {\n      // prevent dispatching multiple nextTick callbacks.\n      return onKeyboardNavigate(direction, newIndex)\n    } else {\n      states.hoveringIndex = newIndex\n      scrollToItem(newIndex)\n    }\n  }\n\n  const onKeyboardSelect = () => {\n    if (!expanded.value) {\n      return toggleMenu()\n    } else if (\n      ~states.hoveringIndex &&\n      filteredOptions.value[states.hoveringIndex]\n    ) {\n      onSelect(filteredOptions.value[states.hoveringIndex])\n    }\n  }\n\n  const onHoverOption = (idx?: number) => {\n    states.hoveringIndex = idx ?? -1\n  }\n\n  const updateHoveringIndex = () => {\n    if (!props.multiple) {\n      states.hoveringIndex = filteredOptions.value.findIndex((item) => {\n        return getValueKey(item) === getValueKey(props.modelValue)\n      })\n    } else {\n      states.hoveringIndex = filteredOptions.value.findIndex((item) =>\n        props.modelValue.some(\n          (modelValue: unknown) => getValueKey(modelValue) === getValueKey(item)\n        )\n      )\n    }\n  }\n\n  const onInput = (event: Event) => {\n    states.inputValue = (event.target as HTMLInputElement).value\n    if (props.remote) {\n      debouncedOnInputChange()\n    } else {\n      return onInputChange()\n    }\n  }\n\n  const handleClickOutside = (event: Event) => {\n    expanded.value = false\n\n    if (isFocused.value) {\n      const _event = new FocusEvent('focus', event)\n      handleBlur(_event)\n    }\n  }\n\n  const handleMenuEnter = () => {\n    states.isBeforeHide = false\n    return nextTick(() => {\n      if (~indexRef.value) {\n        scrollToItem(states.hoveringIndex)\n      }\n    })\n  }\n\n  const scrollToItem = (index: number) => {\n    menuRef.value!.scrollToItem(index)\n  }\n\n  const getOption = (value: unknown, cachedOptions?: Option[]) => {\n    // match the option with the given value, if not found, create a new option\n    const selectValue = getValueKey(value)\n\n    if (allOptionsValueMap.value.has(selectValue)) {\n      const { option } = allOptionsValueMap.value.get(selectValue)\n\n      return option\n    }\n    if (cachedOptions && cachedOptions.length) {\n      const option = cachedOptions.find(\n        (option) => getValueKey(getValue(option)) === selectValue\n      )\n      if (option) {\n        return option\n      }\n    }\n\n    return {\n      [aliasProps.value.value]: value,\n      [aliasProps.value.label]: value,\n    }\n  }\n\n  const initStates = (needUpdateSelectedLabel = false) => {\n    if (props.multiple) {\n      if ((props.modelValue as Array<any>).length > 0) {\n        const cachedOptions = states.cachedOptions.slice()\n        states.cachedOptions.length = 0\n        states.previousValue = props.modelValue.toString()\n\n        for (const value of props.modelValue) {\n          const option = getOption(value, cachedOptions)\n          states.cachedOptions.push(option)\n        }\n      } else {\n        states.cachedOptions = []\n        states.previousValue = undefined\n      }\n    } else {\n      if (hasModelValue.value) {\n        states.previousValue = props.modelValue\n        const options = filteredOptions.value\n        const selectedItemIndex = options.findIndex(\n          (option) =>\n            getValueKey(getValue(option)) === getValueKey(props.modelValue)\n        )\n        if (~selectedItemIndex) {\n          states.selectedLabel = getLabel(options[selectedItemIndex])\n        } else {\n          if (!states.selectedLabel || needUpdateSelectedLabel) {\n            states.selectedLabel = getValueKey(props.modelValue)\n          }\n        }\n      } else {\n        states.selectedLabel = ''\n        states.previousValue = undefined\n      }\n    }\n    clearAllNewOption()\n    calculatePopperSize()\n  }\n\n  watch(\n    () => props.fitInputWidth,\n    () => {\n      calculatePopperSize()\n    }\n  )\n\n  // in order to track these individually, we need to turn them into refs instead of watching the entire\n  // reactive object which could cause perf penalty when unnecessary field gets changed the watch method will\n  // be invoked.\n\n  watch(expanded, (val) => {\n    if (val) {\n      if (!props.persistent) {\n        calculatePopperSize()\n      }\n      handleQueryChange('')\n    } else {\n      states.inputValue = ''\n      states.previousQuery = null\n      states.isBeforeHide = true\n      createNewOption('')\n    }\n    emit('visible-change', val)\n  })\n\n  watch(\n    () => props.modelValue,\n    (val, oldVal) => {\n      const isValEmpty = !val || (isArray(val) && val.length === 0)\n\n      if (\n        isValEmpty ||\n        (props.multiple && !isEqual(val.toString(), states.previousValue)) ||\n        (!props.multiple &&\n          getValueKey(val) !== getValueKey(states.previousValue))\n      ) {\n        initStates(true)\n      }\n      if (!isEqual(val, oldVal) && props.validateEvent) {\n        elFormItem?.validate?.('change').catch((err) => debugWarn(err))\n      }\n    },\n    {\n      deep: true,\n    }\n  )\n\n  watch(\n    () => props.options,\n    () => {\n      const input = inputRef.value\n      // filter or remote-search scenarios are not initialized\n      if (!input || (input && document.activeElement !== input)) {\n        initStates()\n      }\n    },\n    {\n      deep: true,\n      flush: 'post',\n    }\n  )\n\n  // fix the problem that scrollTop is not reset in filterable mode\n  watch(\n    () => filteredOptions.value,\n    () => {\n      calculatePopperSize()\n      return menuRef.value && nextTick(menuRef.value.resetScrollTop)\n    }\n  )\n\n  watchEffect(() => {\n    // Anything could cause options changed, then update options\n    // If you want to control it by condition, write here\n    if (states.isBeforeHide) return\n    updateOptions()\n  })\n\n  watchEffect(() => {\n    const { valueKey, options } = props\n    const duplicateValue = new Map()\n    for (const item of options) {\n      const optionValue = getValue(item)\n      let v = optionValue\n      if (isObject(v)) {\n        v = get(optionValue, valueKey)\n      }\n      if (duplicateValue.get(v)) {\n        debugWarn(\n          'ElSelectV2',\n          `The option values you provided seem to be duplicated, which may cause some problems, please check.`\n        )\n        break\n      } else {\n        duplicateValue.set(v, true)\n      }\n    }\n  })\n\n  onMounted(() => {\n    initStates()\n  })\n  useResizeObserver(selectRef, handleResize)\n  useResizeObserver(selectionRef, resetSelectionWidth)\n  useResizeObserver(menuRef, updateTooltip)\n  useResizeObserver(wrapperRef, updateTooltip)\n  useResizeObserver(tagMenuRef, updateTagTooltip)\n  useResizeObserver(collapseItemRef, resetCollapseItemWidth)\n\n  return {\n    // data exports\n    inputId,\n    collapseTagSize,\n    currentPlaceholder,\n    expanded,\n    emptyText,\n    popupHeight,\n    debounce,\n    allOptions,\n    filteredOptions,\n    iconComponent,\n    iconReverse,\n    tagStyle,\n    collapseTagStyle,\n    popperSize,\n    dropdownMenuVisible,\n    hasModelValue,\n    shouldShowPlaceholder,\n    selectDisabled,\n    selectSize,\n    needStatusIcon,\n    showClearBtn,\n    states,\n    isFocused,\n    nsSelect,\n    nsInput,\n\n    // refs items exports\n    inputRef,\n    menuRef,\n    tagMenuRef,\n    tooltipRef,\n    tagTooltipRef,\n    selectRef,\n    wrapperRef,\n    selectionRef,\n    prefixRef,\n    suffixRef,\n    collapseItemRef,\n\n    popperRef,\n\n    validateState,\n    validateIcon,\n    showTagList,\n    collapseTagList,\n\n    // methods exports\n    debouncedOnInputChange,\n    deleteTag,\n    getLabel,\n    getValue,\n    getDisabled,\n    getValueKey,\n    handleClear,\n    handleClickOutside,\n    handleDel,\n    handleEsc,\n    focus,\n    blur,\n    handleMenuEnter,\n    handleResize,\n    resetSelectionWidth,\n    updateTooltip,\n    updateTagTooltip,\n    updateOptions,\n    toggleMenu,\n    scrollTo: scrollToItem,\n    onInput,\n    onKeyboardNavigate,\n    onKeyboardSelect,\n    onSelect,\n    onHover: onHoverOption,\n    handleCompositionStart,\n    handleCompositionEnd,\n    handleCompositionUpdate,\n  }\n}\n\nexport default useSelect\n", "<template>\n  <div\n    ref=\"selectRef\"\n    v-click-outside:[popperRef]=\"handleClickOutside\"\n    :class=\"[nsSelect.b(), nsSelect.m(selectSize)]\"\n    @mouseenter=\"states.inputHovering = true\"\n    @mouseleave=\"states.inputHovering = false\"\n  >\n    <el-tooltip\n      ref=\"tooltipRef\"\n      :visible=\"dropdownMenuVisible\"\n      :teleported=\"teleported\"\n      :popper-class=\"[nsSelect.e('popper'), popperClass]\"\n      :gpu-acceleration=\"false\"\n      :stop-popper-mouse-event=\"false\"\n      :popper-options=\"popperOptions\"\n      :fallback-placements=\"fallbackPlacements\"\n      :effect=\"effect\"\n      :placement=\"placement\"\n      pure\n      :transition=\"`${nsSelect.namespace.value}-zoom-in-top`\"\n      trigger=\"click\"\n      :persistent=\"persistent\"\n      :append-to=\"appendTo\"\n      :show-arrow=\"showArrow\"\n      :offset=\"offset\"\n      @before-show=\"handleMenuEnter\"\n      @hide=\"states.isBeforeHide = false\"\n    >\n      <template #default>\n        <div\n          ref=\"wrapperRef\"\n          :class=\"[\n            nsSelect.e('wrapper'),\n            nsSelect.is('focused', isFocused),\n            nsSelect.is('hovering', states.inputHovering),\n            nsSelect.is('filterable', filterable),\n            nsSelect.is('disabled', selectDisabled),\n          ]\"\n          @click.prevent=\"toggleMenu\"\n        >\n          <div\n            v-if=\"$slots.prefix\"\n            ref=\"prefixRef\"\n            :class=\"nsSelect.e('prefix')\"\n          >\n            <slot name=\"prefix\" />\n          </div>\n          <div\n            ref=\"selectionRef\"\n            :class=\"[\n              nsSelect.e('selection'),\n              nsSelect.is(\n                'near',\n                multiple && !$slots.prefix && !!modelValue.length\n              ),\n            ]\"\n          >\n            <slot v-if=\"multiple\" name=\"tag\">\n              <div\n                v-for=\"item in showTagList\"\n                :key=\"getValueKey(getValue(item))\"\n                :class=\"nsSelect.e('selected-item')\"\n              >\n                <el-tag\n                  :closable=\"!selectDisabled && !getDisabled(item)\"\n                  :size=\"collapseTagSize\"\n                  :type=\"tagType\"\n                  :effect=\"tagEffect\"\n                  disable-transitions\n                  :style=\"tagStyle\"\n                  @close=\"deleteTag($event, item)\"\n                >\n                  <span :class=\"nsSelect.e('tags-text')\">\n                    <slot\n                      name=\"label\"\n                      :label=\"getLabel(item)\"\n                      :value=\"getValue(item)\"\n                    >\n                      {{ getLabel(item) }}\n                    </slot>\n                  </span>\n                </el-tag>\n              </div>\n\n              <el-tooltip\n                v-if=\"collapseTags && modelValue.length > maxCollapseTags\"\n                ref=\"tagTooltipRef\"\n                :disabled=\"dropdownMenuVisible || !collapseTagsTooltip\"\n                :fallback-placements=\"['bottom', 'top', 'right', 'left']\"\n                :effect=\"effect\"\n                placement=\"bottom\"\n                :teleported=\"teleported\"\n              >\n                <template #default>\n                  <div\n                    ref=\"collapseItemRef\"\n                    :class=\"nsSelect.e('selected-item')\"\n                  >\n                    <el-tag\n                      :closable=\"false\"\n                      :size=\"collapseTagSize\"\n                      :type=\"tagType\"\n                      :effect=\"tagEffect\"\n                      :style=\"collapseTagStyle\"\n                      disable-transitions\n                    >\n                      <span :class=\"nsSelect.e('tags-text')\">\n                        + {{ modelValue.length - maxCollapseTags }}\n                      </span>\n                    </el-tag>\n                  </div>\n                </template>\n                <template #content>\n                  <div ref=\"tagMenuRef\" :class=\"nsSelect.e('selection')\">\n                    <div\n                      v-for=\"selected in collapseTagList\"\n                      :key=\"getValueKey(getValue(selected))\"\n                      :class=\"nsSelect.e('selected-item')\"\n                    >\n                      <el-tag\n                        class=\"in-tooltip\"\n                        :closable=\"!selectDisabled && !getDisabled(selected)\"\n                        :size=\"collapseTagSize\"\n                        :type=\"tagType\"\n                        :effect=\"tagEffect\"\n                        disable-transitions\n                        @close=\"deleteTag($event, selected)\"\n                      >\n                        <span :class=\"nsSelect.e('tags-text')\">\n                          <slot\n                            name=\"label\"\n                            :label=\"getLabel(selected)\"\n                            :value=\"getValue(selected)\"\n                          >\n                            {{ getLabel(selected) }}\n                          </slot>\n                        </span>\n                      </el-tag>\n                    </div>\n                  </div>\n                </template>\n              </el-tooltip>\n            </slot>\n            <div\n              :class=\"[\n                nsSelect.e('selected-item'),\n                nsSelect.e('input-wrapper'),\n                nsSelect.is('hidden', !filterable),\n              ]\"\n            >\n              <input\n                :id=\"inputId\"\n                ref=\"inputRef\"\n                v-model=\"states.inputValue\"\n                :style=\"inputStyle\"\n                :autocomplete=\"autocomplete\"\n                :tabindex=\"tabindex\"\n                aria-autocomplete=\"list\"\n                aria-haspopup=\"listbox\"\n                autocapitalize=\"off\"\n                :aria-expanded=\"expanded\"\n                :aria-label=\"ariaLabel\"\n                :class=\"[nsSelect.e('input'), nsSelect.is(selectSize)]\"\n                :disabled=\"selectDisabled\"\n                role=\"combobox\"\n                :readonly=\"!filterable\"\n                spellcheck=\"false\"\n                type=\"text\"\n                :name=\"name\"\n                @input=\"onInput\"\n                @compositionstart=\"handleCompositionStart\"\n                @compositionupdate=\"handleCompositionUpdate\"\n                @compositionend=\"handleCompositionEnd\"\n                @keydown.up.stop.prevent=\"onKeyboardNavigate('backward')\"\n                @keydown.down.stop.prevent=\"onKeyboardNavigate('forward')\"\n                @keydown.enter.stop.prevent=\"onKeyboardSelect\"\n                @keydown.esc.stop.prevent=\"handleEsc\"\n                @keydown.delete.stop=\"handleDel\"\n                @click.stop=\"toggleMenu\"\n              />\n              <span\n                v-if=\"filterable\"\n                ref=\"calculatorRef\"\n                aria-hidden=\"true\"\n                :class=\"nsSelect.e('input-calculator')\"\n                v-text=\"states.inputValue\"\n              />\n            </div>\n            <div\n              v-if=\"shouldShowPlaceholder\"\n              :class=\"[\n                nsSelect.e('selected-item'),\n                nsSelect.e('placeholder'),\n                nsSelect.is(\n                  'transparent',\n                  !hasModelValue || (expanded && !states.inputValue)\n                ),\n              ]\"\n            >\n              <slot\n                v-if=\"hasModelValue\"\n                name=\"label\"\n                :label=\"currentPlaceholder\"\n                :value=\"modelValue\"\n              >\n                <span>{{ currentPlaceholder }}</span>\n              </slot>\n              <span v-else>{{ currentPlaceholder }}</span>\n            </div>\n          </div>\n          <div ref=\"suffixRef\" :class=\"nsSelect.e('suffix')\">\n            <el-icon\n              v-if=\"iconComponent\"\n              v-show=\"!showClearBtn\"\n              :class=\"[nsSelect.e('caret'), nsInput.e('icon'), iconReverse]\"\n            >\n              <component :is=\"iconComponent\" />\n            </el-icon>\n            <el-icon\n              v-if=\"showClearBtn && clearIcon\"\n              :class=\"[\n                nsSelect.e('caret'),\n                nsInput.e('icon'),\n                nsSelect.e('clear'),\n              ]\"\n              @click.prevent.stop=\"handleClear\"\n            >\n              <component :is=\"clearIcon\" />\n            </el-icon>\n            <el-icon\n              v-if=\"validateState && validateIcon && needStatusIcon\"\n              :class=\"[\n                nsInput.e('icon'),\n                nsInput.e('validateIcon'),\n                nsInput.is('loading', validateState === 'validating'),\n              ]\"\n            >\n              <component :is=\"validateIcon\" />\n            </el-icon>\n          </div>\n        </div>\n      </template>\n      <template #content>\n        <el-select-menu\n          ref=\"menuRef\"\n          :data=\"filteredOptions\"\n          :width=\"popperSize\"\n          :hovering-index=\"states.hoveringIndex\"\n          :scrollbar-always-on=\"scrollbarAlwaysOn\"\n        >\n          <template v-if=\"$slots.header\" #header>\n            <div :class=\"nsSelect.be('dropdown', 'header')\">\n              <slot name=\"header\" />\n            </div>\n          </template>\n          <template #default=\"scope\">\n            <slot v-bind=\"scope\" />\n          </template>\n          <template v-if=\"$slots.loading && loading\" #loading>\n            <div :class=\"nsSelect.be('dropdown', 'loading')\">\n              <slot name=\"loading\" />\n            </div>\n          </template>\n          <template v-else-if=\"loading || filteredOptions.length === 0\" #empty>\n            <div :class=\"nsSelect.be('dropdown', 'empty')\">\n              <slot name=\"empty\">\n                <span>{{ emptyText }}</span>\n              </slot>\n            </div>\n          </template>\n          <template v-if=\"$slots.footer\" #footer>\n            <div :class=\"nsSelect.be('dropdown', 'footer')\">\n              <slot name=\"footer\" />\n            </div>\n          </template>\n        </el-select-menu>\n      </template>\n    </el-tooltip>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, provide, reactive, toRefs } from 'vue'\nimport { isArray } from '@element-plus/utils'\nimport { ClickOutside } from '@element-plus/directives'\nimport ElTooltip from '@element-plus/components/tooltip'\nimport ElTag from '@element-plus/components/tag'\nimport ElIcon from '@element-plus/components/icon'\nimport { useCalcInputWidth } from '@element-plus/hooks'\nimport ElSelectMenu from './select-dropdown'\nimport useSelect from './useSelect'\nimport { SelectProps, selectEmits } from './defaults'\nimport { selectV2InjectionKey } from './token'\n\nexport default defineComponent({\n  name: 'ElSelectV2',\n  components: {\n    ElSelectMenu,\n    ElTag,\n    ElTooltip,\n    ElIcon,\n  },\n  directives: { ClickOutside },\n  props: SelectProps,\n  emits: selectEmits,\n  setup(props, { emit }) {\n    const modelValue = computed(() => {\n      const { modelValue: rawModelValue, multiple } = props\n      const fallback = multiple ? [] : undefined\n      // When it is array, we check if this is multi-select.\n      // Based on the result we get\n      if (isArray(rawModelValue)) {\n        return multiple ? rawModelValue : fallback\n      }\n      return multiple ? fallback : rawModelValue\n    })\n\n    const API = useSelect(\n      reactive({\n        ...toRefs(props),\n        modelValue,\n      }),\n      emit\n    )\n    const { calculatorRef, inputStyle } = useCalcInputWidth()\n\n    provide(selectV2InjectionKey, {\n      props: reactive({\n        ...toRefs(props),\n        height: API.popupHeight,\n        modelValue,\n      }),\n      expanded: API.expanded,\n      tooltipRef: API.tooltipRef,\n      onSelect: API.onSelect,\n      onHover: API.onHover,\n      onKeyboardNavigate: API.onKeyboardNavigate,\n      onKeyboardSelect: API.onKeyboardSelect,\n    })\n\n    const selectedLabel = computed(() => {\n      if (!props.multiple) {\n        return API.states.selectedLabel\n      }\n      return API.states.cachedOptions.map((i) => i.label as string)\n    })\n\n    return {\n      ...API,\n      modelValue,\n      selectedLabel,\n      calculatorRef,\n      inputStyle,\n    }\n  },\n})\n</script>\n", "import { withInstall } from '@element-plus/utils'\nimport Select from './src/select.vue'\n\nimport type { SFCWithInstall } from '@element-plus/utils'\n\nexport const ElSelectV2: SFCWithInstall<typeof Select> = withInstall(Select)\nexport default ElSelectV2\n\nexport * from './src/token'\n"],
  "mappings": "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",
  "names": ["_openBlock", "_createElementBlock", "_normalizeClass", "_normalizeStyle", "_toDisplayString", "props", "props", "_sfc_main", "props", "_createElementBlock", "_normalizeStyle", "_normalizeClass", "_withModifiers", "_renderSlot", "_createElementVNode", "_toDisplayString", "_sfc_render", "isEqual", "cache", "props", "layout", "layout", "props", "getEstimatedTotalSize", "props", "total", "cache", "direction", "itemSize", "layout", "window", "initScrollOffset", "Scrollbar", "buildList", "itemSize", "total", "layout", "props", "itemSize", "total", "estimatedItemSize", "layout", "cache", "props", "loading", "Boolean", "data", "type", "Array", "required", "hoveringIndex", "Number", "width", "defineComponent", "name", "slots", "expose", "select", "ns", "getLabel", "getValue", "getDisabled", "cachedHeights", "listRef", "size", "computed", "watch", "tooltipRef", "value", "isSized", "isUndefined", "estimatedOptionHeight", "listProps", "itemSize", "itemHeight", "estimatedSize", "contains", "valueKey", "isObject", "target", "arr", "isEqual", "item", "selected", "get", "isItemSelected", "modelValue", "isItemDisabled", "multipleLimit", "isItemHovering", "resetScrollTop", "list", "Item", "style", "_createVNode", "_mergeProps", "onSelect", "onHover", "sized", "onKeyboardSelect", "onForward", "onBackward", "onEscOrTab", "onKeydown", "code", "esc", "down", "numpadEnter", "up", "e", "scrollbarAlwaysOn", "props", "props", "debounce", "lodashDebounce", "direction", "_sfc_main", "props", "_sfc_render", "_resolveComponent", "_createVNode", "_withCtx", "_createElementVNode", "_withModifiers", "_openBlock", "_createElementBlock", "_normalizeClass", "_renderSlot", "_createCommentVNode", "_createTextVNode", "_toDisplayString", "_createBlock", "_normalizeStyle", "_withKeys", "_resolveDynamicComponent", "_createSlots", "_normalizeProps", "_guardReactiveProps"]
}
